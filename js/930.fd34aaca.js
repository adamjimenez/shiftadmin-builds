"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[930],{67930:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var r=l(56768),t=l(31969),s=l(13892),o=l(4189),i=l(30697),n=l(93745),d=l(1560),u=l(43948);function m(e,a,l,m,c,f){return(0,r.uX)(),(0,r.Wv)(d.n,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":a[2]||(a[2]=a=>e.valid=a)},{default:(0,r.k6)((()=>[(0,r.bF)(o.J,{title:"ShiftAdmin",subtitle:"Sign in",loading:e.loading},{default:(0,r.k6)((()=>[e.error?((0,r.uX)(),(0,r.Wv)(t.l,{key:0,type:"error",text:e.error},null,8,["text"])):(0,r.Q3)("",!0),(0,r.bF)(d.n,null,{default:(0,r.k6)((()=>[(0,r.bF)(i.O,null,{default:(0,r.k6)((()=>[(0,r.bF)(u.W,{modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.email=a),rules:e.usernameRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,r.bF)(u.W,{type:"password",modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=a=>e.password=a),rules:e.passwordRules,label:"Password",required:""},null,8,["modelValue","rules"])])),_:1}),(0,r.bF)(n.S,null,{default:(0,r.k6)((()=>[(0,r.bF)(s.D,{color:"success",onClick:f.login,variant:"flat",text:"Login",type:"submit"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1},8,["modelValue"])}l(44114);var c=l(74300),f=l(27274),p={data:()=>({valid:!0,email:"",password:"",usernameRules:[e=>!!e||"Username is required"],passwordRules:[e=>!!e||"Password is required"],loading:!1,error:""}),methods:{fetchData:async function(){const e=await c.A.post("?cmd=login");1===e.data.code&&e.data.admin>0&&this.$router.push(f.A.base())},login:async function(){this.error="";var e={cmd:"login",email:this.email,password:this.password};this.loading=!0;const a=await c.A.post("?cmd=login",e);this.loading=!1,a.data.error?this.error=a.data.error:this.$router.push(f.A.base())}},mounted:function(){this.fetchData()}},h=l(71241);const b=(0,h.A)(p,[["render",m]]);var w=b}}]);
//# sourceMappingURL=930.fd34aaca.js.map