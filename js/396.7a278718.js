"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[396],{20396:function(e,l,a){a.d(l,{A:function(){return W}});var t=a(56768),u=a(73416),n=a(86852),o=a(95523),i=a(37852),v=a(79669),s=a(72164),r=a(57254),c=a(88249),d=a(20105),p=a(43948),m=a(64995),b=a(76312),f=a(32886),h=a(16547),x=a(93651),y=a(61950),g=a(55574),w=a(95296),F=a(82067),k=a(34464),C=a(90144),I=a(14587),E=a(29094),V=a(51247),_=a(66993),S=a(74600);function A(e,l,a){if(null==l)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return"number"===typeof l&&~l?(0,t.bF)(t.FK,null,[(0,t.bF)("span",{class:"v-combobox__unmask"},[e.substr(0,l)]),(0,t.bF)("span",{class:"v-combobox__mask"},[e.substr(l,a)]),(0,t.bF)("span",{class:"v-combobox__unmask"},[e.substr(l+a)])]):e}const D=(0,I.j)({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...(0,h.tk)({filterKeys:["title"]}),...(0,d.vw)({hideNoData:!0,returnObject:!0}),...(0,E.cJ)((0,p.i)({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...(0,k.m)({transition:!1})},"VCombobox"),W=(0,V.RW)()({name:"VCombobox",props:D(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:search":e=>!0,"update:menu":e=>!0},setup(e,l){let{emit:a,slots:d}=l;const{t:k}=(0,w.Ym)(),I=(0,C.KR)(),V=(0,C.IJ)(!1),D=(0,C.IJ)(!0),W=(0,C.IJ)(!1),K=(0,C.KR)(),R=(0,C.KR)(),B=(0,F.q)(e,"menu"),P=(0,t.EW)({get:()=>B.value,set:e=>{B.value&&!e&&K.value?.Î¨openChildren||(B.value=e)}}),O=(0,C.IJ)(-1);let T=!1;const M=(0,t.EW)((()=>I.value?.color)),N=(0,t.EW)((()=>P.value?e.closeText:e.openText)),{items:J,transformIn:U,transformOut:q}=(0,g.wB)(e),{textColorClasses:L,textColorStyles:j}=(0,f.aH)(M),Y=(0,F.q)(e,"modelValue",[],(e=>U((0,E.BN)(e))),(l=>{const a=q(l);return e.multiple?a:a[0]??null})),z=(0,x.mN)(),H=(0,t.EW)((()=>!(!e.chips&&!d.chip))),Q=(0,t.EW)((()=>H.value||!!d.selection)),Z=(0,C.IJ)(e.multiple||Q.value?"":Y.value[0]?.title??""),$=(0,t.EW)({get:()=>Z.value,set:l=>{if(Z.value=l??"",e.multiple||Q.value||(Y.value=[(0,g.Id)(e,l)]),l&&e.multiple&&e.delimiters?.length){const a=l.split(new RegExp(`(?:${e.delimiters.join("|")})+`));a.length>1&&(a.forEach((l=>{l=l.trim(),l&&pe((0,g.Id)(e,l))})),Z.value="")}l||(O.value=-1),D.value=!l}}),G=(0,t.EW)((()=>"function"===typeof e.counterValue?e.counterValue(Y.value):"number"===typeof e.counterValue?e.counterValue:e.multiple?Y.value.length:$.value.length));(0,t.wB)(Z,(e=>{T?(0,t.dY)((()=>T=!1)):V.value&&!P.value&&(P.value=!0),a("update:search",e)})),(0,t.wB)(Y,(l=>{e.multiple||Q.value||(Z.value=l[0]?.title??"")}));const{filteredItems:X,getMatches:ee}=(0,h.U2)(e,J,(()=>D.value?"":$.value)),le=(0,t.EW)((()=>e.hideSelected?X.value.filter((e=>!Y.value.some((l=>l.value===e.value)))):X.value)),ae=(0,t.EW)((()=>Y.value.map((e=>e.value)))),te=(0,t.EW)((()=>{const l=!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&$.value===le.value[0]?.title;return l&&le.value.length>0&&!D.value&&!W.value})),ue=(0,t.EW)((()=>e.hideNoData&&!le.value.length||e.readonly||z?.isReadonly.value)),ne=(0,C.KR)(),{onListScroll:oe,onListKeydown:ie}=(0,b.b)(ne,I);function ve(l){T=!0,e.openOnClear&&(P.value=!0)}function se(){ue.value||(P.value=!0)}function re(e){ue.value||(V.value&&(e.preventDefault(),e.stopPropagation()),P.value=!P.value)}function ce(l){if((0,E.Pv)(l)||e.readonly||z?.isReadonly.value)return;const a=I.value.selectionStart,t=Y.value.length;if((O.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(P.value=!0),["Escape"].includes(l.key)&&(P.value=!1),["Enter","Escape","Tab"].includes(l.key)&&(te.value&&["Enter","Tab"].includes(l.key)&&pe(X.value[0]),D.value=!0),"ArrowDown"===l.key&&te.value&&ne.value?.focus("next"),"Enter"===l.key&&$.value&&(pe((0,g.Id)(e,$.value)),Q.value&&(Z.value="")),e.multiple){if(["Backspace","Delete"].includes(l.key)){if(O.value<0)return void("Backspace"!==l.key||$.value||(O.value=t-1));const e=O.value,a=Y.value[O.value];a&&!a.props.disabled&&pe(a,!1),O.value=e>=t-1?t-2:e}if("ArrowLeft"===l.key){if(O.value<0&&a>0)return;const e=O.value>-1?O.value-1:t-1;Y.value[e]?O.value=e:(O.value=-1,I.value.setSelectionRange($.value.length,$.value.length))}if("ArrowRight"===l.key){if(O.value<0)return;const e=O.value+1;Y.value[e]?O.value=e:(O.value=-1,I.value.setSelectionRange(0,0))}}}function de(){V.value&&(D.value=!0,I.value?.focus())}function pe(l){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!l.props.disabled)if(e.multiple){const t=Y.value.findIndex((a=>e.valueComparator(a.value,l.value))),u=null==a?!~t:a;if(~t){const e=u?[...Y.value,l]:[...Y.value];e.splice(t,1),Y.value=e}else u&&(Y.value=[...Y.value,l]);e.clearOnSelect&&($.value="")}else{const e=!1!==a;Y.value=e?[l]:[],Z.value=e&&!Q.value?l.title:"",(0,t.dY)((()=>{P.value=!1,D.value=!0}))}}function me(e){V.value=!0,setTimeout((()=>{W.value=!0}))}function be(e){W.value=!1}function fe(l){(null==l||""===l&&!e.multiple)&&(Y.value=[])}return(0,t.wB)(V,((l,a)=>{if(!l&&l!==a)if(O.value=-1,P.value=!1,!te.value||W.value||Y.value.some((e=>{let{value:l}=e;return l===le.value[0].value}))){if($.value){if(e.multiple)return void pe((0,g.Id)(e,$.value));if(!Q.value)return;Y.value.some((e=>{let{title:l}=e;return l===$.value}))?Z.value="":pe((0,g.Id)(e,$.value))}}else pe(le.value[0])})),(0,t.wB)(P,(()=>{if(!e.hideSelected&&P.value&&Y.value.length){const l=le.value.findIndex((l=>Y.value.some((a=>e.valueComparator(a.value,l.value)))));_.ZK&&window.requestAnimationFrame((()=>{l>=0&&R.value?.scrollToIndex(l)}))}})),(0,t.wB)((()=>e.items),(e=>{V.value&&e.length&&!P.value&&(P.value=!0)})),(0,S.C)((()=>{const l=!!(!e.hideNoData||le.value.length||d["prepend-item"]||d["append-item"]||d["no-data"]),a=Y.value.length>0,b=p.W.filterProps(e);return(0,t.bF)(p.W,(0,t.v6)({ref:I},b,{modelValue:$.value,"onUpdate:modelValue":[e=>$.value=e,fe],focused:V.value,"onUpdate:focused":e=>V.value=e,validationValue:Y.externalValue,counterValue:G.value,dirty:a,class:["v-combobox",{"v-combobox--active-menu":P.value,"v-combobox--chips":!!e.chips,"v-combobox--selection-slot":!!Q.value,"v-combobox--selecting-index":O.value>-1,["v-combobox--"+(e.multiple?"multiple":"single")]:!0},e.class],style:e.style,readonly:e.readonly,placeholder:a?void 0:e.placeholder,"onClick:clear":ve,"onMousedown:control":se,onKeydown:ce}),{...d,default:()=>(0,t.bF)(t.FK,null,[(0,t.bF)(c.q,(0,t.v6)({ref:K,modelValue:P.value,"onUpdate:modelValue":e=>P.value=e,activator:"parent",contentClass:"v-combobox__content",disabled:ue.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:de},e.menuProps),{default:()=>[l&&(0,t.bF)(s.x,(0,t.v6)({ref:ne,selected:ae.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:ie,onFocusin:me,onFocusout:be,onScrollPassive:oe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>[d["prepend-item"]?.(),!le.value.length&&!e.hideNoData&&(d["no-data"]?.()??(0,t.bF)(r.g,{title:k(e.noDataText)},null)),(0,t.bF)(m.h,{ref:R,renderless:!0,items:le.value},{default:l=>{let{item:a,index:o,itemRef:i}=l;const s=(0,t.v6)(a.props,{ref:i,key:o,active:!(!te.value||0!==o)||void 0,onClick:()=>pe(a,null)});return d.item?.({item:a,index:o,props:s})??(0,t.bF)(r.g,(0,t.v6)(s,{role:"option"}),{prepend:l=>{let{isSelected:o}=l;return(0,t.bF)(t.FK,null,[e.multiple&&!e.hideSelected?(0,t.bF)(n.M,{key:a.value,modelValue:o,ripple:!1,tabindex:"-1"},null):void 0,a.props.prependAvatar&&(0,t.bF)(u.y,{image:a.props.prependAvatar},null),a.props.prependIcon&&(0,t.bF)(v.w,{icon:a.props.prependIcon},null)])},title:()=>D.value?a.title:A(a.title,ee(a)?.title,$.value?.length??0)})}}),d["append-item"]?.()]})]}),Y.value.map(((l,a)=>{function u(e){e.stopPropagation(),e.preventDefault(),pe(l,!1)}const n={"onClick:close":u,onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},v=H.value?!!d.chip:!!d.selection,s=v?(0,E.T4)(H.value?d.chip({item:l,index:a,props:n}):d.selection({item:l,index:a})):void 0;if(!v||s)return(0,t.bF)("div",{key:l.value,class:["v-combobox__selection",a===O.value&&["v-combobox__selection--selected",L.value]],style:a===O.value?j.value:{}},[H.value?d.chip?(0,t.bF)(i.K,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:l.title}}},{default:()=>[s]}):(0,t.bF)(o.x,(0,t.v6)({key:"chip",closable:e.closableChips,size:"small",text:l.title,disabled:l.props.disabled},n),null):s??(0,t.bF)("span",{class:"v-combobox__selection-text"},[l.title,e.multiple&&a<Y.value.length-1&&(0,t.bF)("span",{class:"v-combobox__selection-comma"},[(0,t.eW)(",")])])])}))]),"append-inner":function(){for(var l=arguments.length,a=new Array(l),u=0;u<l;u++)a[u]=arguments[u];return(0,t.bF)(t.FK,null,[d["append-inner"]?.(...a),e.hideNoData&&!e.items.length||!e.menuIcon?void 0:(0,t.bF)(v.w,{class:"v-combobox__menu-icon",icon:e.menuIcon,onMousedown:re,onClick:E.lQ,"aria-label":k(N.value),title:k(N.value)},null)])}})})),(0,y.O)({isFocused:V,isPristine:D,menu:P,search:$,selectionIndex:O,filteredItems:X,select:pe},I)}})}}]);
//# sourceMappingURL=396.7a278718.js.map