"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[169],{2564:function(e,l,t){t(560);var a=t(1006);l.Z={getOptions:async function(e){let l=[];if(Array.isArray(e))e.forEach((function(e){l.push({title:e,value:e})}));else if(e){if("string"===typeof e){const l=await a.Z.get("?cmd=options&table="+e);e=l.data.options}for(const[t,a]of Object.entries(e))l.push({title:a,value:t})}return l.sort(((e,l)=>e.title.localeCompare(l.title))),l},getAllOptions:async function(e,l,t,a){let u={};for(const[,n]of Object.entries(e))if(["select","select_parent","select_multiple"].includes(n.type)){let e="select_parent"===n.type?t:l.options[n.column.replaceAll(" ","_")];u[n.column]=await this.getOptions(e),"select_multiple"===n.type&&Array.isArray(a[n.column])&&a[n.column].reverse().forEach((e=>{u[n.column].some((l=>l.value===e))||u[n.column].unshift({value:e,title:e})}))}else"combo"===n.type&&(u[n.column]=[]);return u}}},2650:function(e,l,t){t.d(l,{f:function(){return P}});var a=t(3396),u=t(652),n=t(1959),o=t(7103),i=t(836),s=t(3289),r=t(6052),c=t(9457),v=t(4193),p=t(240),d=t(165),m=t(1556),f=t(5863),h=t(2370),y=t(1819),g=t(4357),b=t(3185),k=t(4019),V=t(9637),w=t(8717),x=t(4906),C=t(4870),W=t(3766),_=t(131),A=t(1107),F=t(2385),I=t(9888);function S(e,l,t){if(null==l)return e;if(Array.isArray(l))throw new Error("Multiple matches is not implemented");return"number"===typeof l&&~l?(0,a.Wm)(a.HY,null,[(0,a.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(0,l)]),(0,a.Wm)("span",{class:"v-autocomplete__mask"},[e.substr(l,t)]),(0,a.Wm)("span",{class:"v-autocomplete__unmask"},[e.substr(l+t)])]):e}const D=(0,W.U)({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...(0,y.Up)({filterKeys:["title"]}),...(0,p.fL)(),...(0,_.CE)((0,d.w)({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...(0,x.X)({transition:!1})},"VAutocomplete"),P=(0,A.ev)()({name:"VAutocomplete",props:D(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,l){let{slots:t}=l;const{t:p}=(0,V.bU)(),x=(0,C.iH)(),W=(0,C.XI)(!1),A=(0,C.XI)(!0),D=(0,C.XI)(!1),P=(0,C.iH)(),U=(0,C.iH)(),O=(0,w.z)(e,"menu"),Y=(0,a.Fl)({get:()=>O.value,set:e=>{O.value&&!e&&P.value?.Î¨openChildren||(O.value=e)}}),E=(0,C.XI)(-1),H=(0,a.Fl)((()=>x.value?.color)),T=(0,a.Fl)((()=>Y.value?e.closeText:e.openText)),{items:L,transformIn:R,transformOut:z}=(0,k.Ce)(e),{textColorClasses:B,textColorStyles:G}=(0,h.rY)(H),K=(0,w.z)(e,"search",""),M=(0,w.z)(e,"modelValue",[],(e=>R(null===e?[null]:(0,_.FT)(e))),(l=>{const t=z(l);return e.multiple?t:t[0]??null})),X=(0,a.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(M.value):"number"===typeof e.counterValue?e.counterValue:M.value.length)),q=(0,g.cI)(),{filteredItems:N,getMatches:Z}=(0,y.L0)(e,L,(()=>A.value?"":K.value)),j=(0,a.Fl)((()=>e.hideSelected?N.value.filter((e=>!M.value.some((l=>l.value===e.value)))):N.value)),$=(0,a.Fl)((()=>M.value.map((e=>e.props.value)))),J=(0,a.Fl)((()=>{const l=!0===e.autoSelectFirst||"exact"===e.autoSelectFirst&&K.value===j.value[0]?.title;return l&&j.value.length>0&&!A.value&&!D.value})),Q=(0,a.Fl)((()=>e.hideNoData&&!j.value.length||e.readonly||q?.isReadonly.value)),ee=(0,C.iH)(),{onListScroll:le,onListKeydown:te}=(0,f.B)(ee,x);function ae(l){e.openOnClear&&(Y.value=!0),K.value=""}function ue(){Q.value||(Y.value=!0)}function ne(e){Q.value||(W.value&&(e.preventDefault(),e.stopPropagation()),Y.value=!Y.value)}function oe(l){if(e.readonly||q?.isReadonly.value)return;const t=x.value.selectionStart,a=M.value.length;if((E.value>-1||["Enter","ArrowDown","ArrowUp"].includes(l.key))&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(Y.value=!0),["Escape"].includes(l.key)&&(Y.value=!1),J.value&&["Enter","Tab"].includes(l.key)&&de(j.value[0]),"ArrowDown"===l.key&&J.value&&ee.value?.focus("next"),e.multiple){if(["Backspace","Delete"].includes(l.key)){if(E.value<0)return void("Backspace"!==l.key||K.value||(E.value=a-1));const e=E.value,t=M.value[E.value];t&&!t.props.disabled&&de(t),E.value=e>=a-1?a-2:e}if("ArrowLeft"===l.key){if(E.value<0&&t>0)return;const e=E.value>-1?E.value-1:a-1;M.value[e]?E.value=e:(E.value=-1,x.value.setSelectionRange(K.value?.length,K.value?.length))}if("ArrowRight"===l.key){if(E.value<0)return;const e=E.value+1;M.value[e]?E.value=e:(E.value=-1,x.value.setSelectionRange(0,0))}}}function ie(e){if((0,_.Ku)(x.value,":autofill")||(0,_.Ku)(x.value,":-webkit-autofill")){const l=L.value.find((l=>l.title===e.target.value));l&&de(l)}}function se(){W.value&&(A.value=!0,x.value?.focus())}function re(e){W.value=!0,setTimeout((()=>{D.value=!0}))}function ce(e){D.value=!1}function ve(l){(null==l||""===l&&!e.multiple)&&(M.value=[])}const pe=(0,C.XI)(!1);function de(l){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!l.props.disabled)if(e.multiple){const t=M.value.findIndex((t=>e.valueComparator(t.value,l.value)));if(-1===t)M.value=[...M.value,l];else{const e=[...M.value];e.splice(t,1),M.value=e}e.clearOnSelect&&(K.value="")}else M.value=t?[l]:[],pe.value=!0,K.value=t?l.title:"",Y.value=!1,A.value=!0,(0,a.Y3)((()=>pe.value=!1))}return(0,a.YP)(W,((l,t)=>{l!==t&&(l?(pe.value=!0,K.value=e.multiple?"":String(M.value.at(-1)?.props.title??""),A.value=!0,(0,a.Y3)((()=>pe.value=!1))):(e.multiple||null!=K.value?!J.value||D.value||M.value.some((e=>{let{value:l}=e;return l===j.value[0].value}))||de(j.value[0]):M.value=[],Y.value=!1,K.value="",E.value=-1))})),(0,a.YP)(K,(e=>{W.value&&!pe.value&&(e&&(Y.value=!0),A.value=!e)})),(0,a.YP)(Y,(()=>{if(!e.hideSelected&&Y.value&&M.value.length){const e=j.value.findIndex((e=>M.value.some((l=>e.value===l.value))));F.BR&&window.requestAnimationFrame((()=>{e>=0&&U.value?.scrollToIndex(e)}))}})),(0,a.YP)(j,((l,t)=>{W.value&&(!l.length&&e.hideNoData&&(Y.value=!1),!t.length&&l.length&&(Y.value=!0))})),(0,I.L)((()=>{const l=!(!e.chips&&!t.chip),f=!!(!e.hideNoData||j.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),h=M.value.length>0,y=d.h.filterProps(e);return(0,a.Wm)(d.h,(0,a.dG)({ref:x},y,{modelValue:K.value,"onUpdate:modelValue":[e=>K.value=e,ve],focused:W.value,"onUpdate:focused":e=>W.value=e,validationValue:M.externalValue,counterValue:X.value,dirty:h,onChange:ie,class:["v-autocomplete","v-autocomplete--"+(e.multiple?"multiple":"single"),{"v-autocomplete--active-menu":Y.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!t.selection,"v-autocomplete--selecting-index":E.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:h?void 0:e.placeholder,"onClick:clear":ae,"onMousedown:control":ue,onKeydown:oe}),{...t,default:()=>(0,a.Wm)(a.HY,null,[(0,a.Wm)(v.T,(0,a.dG)({ref:P,modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,activator:"parent",contentClass:"v-autocomplete__content",disabled:Q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:se},e.menuProps),{default:()=>[f&&(0,a.Wm)(r.i,(0,a.dG)({ref:ee,selected:$.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:e=>e.preventDefault(),onKeydown:te,onFocusin:re,onFocusout:ce,onScrollPassive:le,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>[t["prepend-item"]?.(),!j.value.length&&!e.hideNoData&&(t["no-data"]?.()??(0,a.Wm)(c.l,{title:p(e.noDataText)},null)),(0,a.Wm)(m.t,{ref:U,renderless:!0,items:j.value},{default:l=>{let{item:o,index:i,itemRef:r}=l;const v=(0,a.dG)(o.props,{ref:r,key:i,active:!(!J.value||0!==i)||void 0,onClick:()=>de(o)});return t.item?.({item:o,index:i,props:v})??(0,a.Wm)(c.l,v,{prepend:l=>{let{isSelected:t}=l;return(0,a.Wm)(a.HY,null,[e.multiple&&!e.hideSelected?(0,a.Wm)(n.p,{key:o.value,modelValue:t,ripple:!1,tabindex:"-1"},null):void 0,o.props.prependAvatar&&(0,a.Wm)(u.V,{image:o.props.prependAvatar},null),o.props.prependIcon&&(0,a.Wm)(s.t,{icon:o.props.prependIcon},null)])},title:()=>A.value?o.title:S(o.title,Z(o)?.title,K.value?.length??0)})}}),t["append-item"]?.()]})]}),M.value.map(((u,n)=>{function s(e){e.stopPropagation(),e.preventDefault(),de(u,!1)}const r={"onClick:close":s,onMousedown(e){e.preventDefault(),e.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},c=l?!!t.chip:!!t.selection,v=c?(0,_._g)(l?t.chip({item:u,index:n,props:r}):t.selection({item:u,index:n})):void 0;if(!c||v)return(0,a.Wm)("div",{key:u.value,class:["v-autocomplete__selection",n===E.value&&["v-autocomplete__selection--selected",B.value]],style:n===E.value?G.value:{}},[l?t.chip?(0,a.Wm)(i.z,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[v]}):(0,a.Wm)(o.v,(0,a.dG)({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},r),null):v??(0,a.Wm)("span",{class:"v-autocomplete__selection-text"},[u.title,e.multiple&&n<M.value.length-1&&(0,a.Wm)("span",{class:"v-autocomplete__selection-comma"},[(0,a.Uk)(",")])])])}))]),"append-inner":function(){for(var l=arguments.length,u=new Array(l),n=0;n<l;n++)u[n]=arguments[n];return(0,a.Wm)(a.HY,null,[t["append-inner"]?.(...u),e.menuIcon?(0,a.Wm)(s.t,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:ne,onClick:_.ZT,"aria-label":p(T.value),title:p(T.value)},null):void 0])}})})),(0,b.F)({isFocused:W,isPristine:A,menu:Y,search:K,filteredItems:N,select:de},x)}})},1222:function(e,l,t){t.d(l,{x:function(){return m}});var a=t(3396),u=t(1959),n=t(9114),o=t(8969),i=t(8717),s=t(3766),r=t(131),c=t(1107),v=t(7514),p=t(9888);const d=(0,s.U)({...(0,n.c)(),...(0,r.CE)((0,u.w)(),["inline"])},"VCheckbox"),m=(0,c.ev)()({name:"VCheckbox",inheritAttrs:!1,props:d(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,l){let{attrs:t,slots:s}=l;const c=(0,i.z)(e,"modelValue"),{isFocused:d,focus:m,blur:f}=(0,o.K)(e),h=(0,v.sq)(),y=(0,a.Fl)((()=>e.id||`checkbox-${h}`));return(0,p.L)((()=>{const[l,o]=(0,r.An)(t),i=n.q.filterProps(e),v=u.p.filterProps(e);return(0,a.Wm)(n.q,(0,a.dG)({class:["v-checkbox",e.class]},l,i,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,id:y.value,focused:d.value,style:e.style}),{...s,default:e=>{let{id:l,messagesId:t,isDisabled:n,isReadonly:i}=e;return(0,a.Wm)(u.p,(0,a.dG)(v,{id:l.value,"aria-describedby":t.value,disabled:n.value,readonly:i.value},o,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,onFocus:m,onBlur:f}),s)}})})),{}}})}}]);
//# sourceMappingURL=169.93cca5b3.js.map