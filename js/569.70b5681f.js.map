{"version":3,"file":"js/569.70b5681f.js","mappings":"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","sources":["webpack://shiftadmin/./src/components/FileUploads.vue","webpack://shiftadmin/./src/components/FileUploads.vue?4823","webpack://shiftadmin/./src/components/AccountButton.vue","webpack://shiftadmin/./src/components/AccountButton.vue?f65d","webpack://shiftadmin/./src/Main.vue","webpack://shiftadmin/./src/Main.vue?e6f1","webpack://shiftadmin/./src/components/SearchField.vue","webpack://shiftadmin/./src/components/DateRange.vue","webpack://shiftadmin/./src/components/DateRange.vue?66da","webpack://shiftadmin/./src/components/SearchField.vue?038d"],"sourcesContent":["<template>\n    <span>        \n\t\t<v-list-item title=\"File uploads\" prepend-icon=\"mdi-file-upload\" @click=\"open\" />\n\n        <v-dialog v-model=\"dialog\" scrollable>\n            <v-card>\n                <v-alert :title=\"error\" type=\"error\" v-if=\"error\"></v-alert>\n\n                <v-card-actions>\n                    <v-btn title=\"Create folder\" icon=\"mdi-folder-outline\" @click=\"createFolder\"></v-btn>\n                    <v-btn title=\"Delete\" icon=\"mdi-delete\" :disabled=\"selected.length === 0\" @click=\"deleteItems\"></v-btn>\n                    <v-file-input v-model=\"file\" @update:modelValue=\"uploadFile\" multiple prepend-icon=\"mdi-upload\" hide-details class=\"hide-input mx-3\"></v-file-input>\n                    <v-btn title=\"Up level\" :disabled=\"path === '/'\" icon=\"mdi-arrow-up\" @click=\"upLevel\"></v-btn>\n                    <v-text-field v-model=\"path\" hide-details readonly density=\"compact\"></v-text-field>\n                    <v-text-field v-model=\"filter\" hide-details density=\"compact\" prepend-inner-icon=\"mdi-magnify\" class=\"ml-3\"></v-text-field>\n                </v-card-actions>\n\n                <v-data-table :items=\"filteredItems\" :headers=\"headers\" show-select v-model=\"selected\" @click:row=\"rowClick\" :loading=\"loading\">\n                    <template v-slot:[`item.thumb`]=\"{ item }\">\n                        <v-img v-if=\"item.thumb\" :src=\"apiRoot + '?cmd=file&f=' + item.id\" style=\"max-width: 160px; max-height: 120px;\"></v-img>\n                    </template>\n                </v-data-table>\n            </v-card>\n        </v-dialog>\n    </span>\n</template>\n\n<style>\n    .hide-input .v-input__control {\n        display: none;\n    }\n</style>\n\n<script>\nimport api from \"../services/api\";\n\nexport default {\n    data: function () {\n        return {\n            column: '',\n            dialog: false,\n            items: [],\n            path: '/',\n            headers: [{\n                title: 'Name',\n                value: 'name'\n            }, {\n                title: 'Thumb',\n                value: 'thumb'\n            }],\n            apiRoot: '',\n            selected: [],\n            loading: false,\n            file: [],\n            error: '',\n            filter: '',\n        }\n    },\n    methods: {\n        fetchData: async function () {\n            this.loading = true;\n            const result = await api.get('?cmd=uploads&path=' + this.path);\n\n            if (result.data.error) {\n                this.error = result.data.error;\n            }\n\n            this.loading = false;\n            this.items = result.data.items;\n        },\n        open: function (column) {\n            this.column = column;\n            this.dialog = true;\n            this.fetchData();\n        },\n        rowClick: function (e, item) {\n            if (item.item.leaf) {\n                this.selectFile(item.item.id);\n            } else {\n                this.path = item.item.id + '/';\n                this.fetchData();\n            }\n        },\n        selectFile: function (filepath) {\n            if (typeof this.column === 'function') {\n                filepath = '/uploads' + filepath\n                this.column(filepath, { title: filepath });\n                this.dialog = false;\n            } else if (this.column) {\n                this.$emit('fileSelected', { value: filepath.substr(1), column: this.column });                \n                this.dialog = false;\n            }\n        },\n        upLevel: function () {\n            let index = this.path.substr(0, this.path.length - 1).lastIndexOf(\"/\");\n            if (index !== -1) {\n                this.path = this.path.substr(0, index + 1);\n            }\n\n            this.fetchData();\n        },\n        createFolder: async function () {\n            let folder = prompt('Folder name');\n\n            if (!folder) {\n                return;\n            }\n\n            this.loading = true;\n            const result = await api.post('?cmd=uploads&path=' + this.path, {\n                createFolder: folder\n            });\n            this.loading = false;\n\n            if (result.data.error) {\n                this.error = result.data.error;\n            }\n\n            this.fetchData();\n        },\n        deleteItems: async function () {\n            if (!confirm('Are you sure?')) {\n                return;\n            }\n\n            this.loading = true;\n            const result = await api.post('?cmd=uploads&path=' + this.path, {\n                delete: this.selected\n            });\n            this.loading = false;\n\n            if (result.data.error) {\n                this.error = result.data.error;\n            }\n\n            this.fetchData();\n        },\n        uploadFile: async function () {\n            console.log(this.file)\n\n            const formData = new FormData();\n\n            this.file.forEach(function (file) {\n                console.log('File details:', file);\n                formData.append('file', file);\n            })\n\n            this.loading = true;\n            const result = await api.post('?cmd=uploads&path=' + this.path, formData, {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                },\n            });\n            this.loading = false;\n\n            if (result.data?.error) {\n                alert(result.data?.error);\n            }\n\n            await this.fetchData();\n\n            this.selectFile(result.data.file.path);\n        }\n    },\n    computed: {\n        filteredItems: function () {\n            const items = [];\n\n            this.items.forEach(item => {\n                if (item.name.toLowerCase().indexOf(this.filter.toLowerCase()) !== -1 ) {\n                    items.push(item);\n                }\n            })\n\n            return items;\n        }\n    },\n    async mounted() {\n        this.apiRoot = api.getApiRoot()\n    }\n}\n</script>","import { render } from \"./FileUploads.vue?vue&type=template&id=54eaf904\"\nimport script from \"./FileUploads.vue?vue&type=script&lang=js\"\nexport * from \"./FileUploads.vue?vue&type=script&lang=js\"\n\nimport \"./FileUploads.vue?vue&type=style&index=0&id=54eaf904&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <v-menu v-model=\"opened\">\n        <template v-slot:activator=\"{ props }\">\n            <v-btn color=\"primary\" v-bind=\"props\" @click.stop @mousedown.stop>\n                <v-avatar color=\"primary\">\n                    {{ user?.initials ? user.initials : '??' }}\n                </v-avatar>\n            </v-btn>\n        </template>\n        <v-list>\n            <v-list-item>\n                {{ user.name }}\n            </v-list-item>\n            <v-list-item @click=\"logout\" title=\"Logout\" prepend-icon=\"mdi-logout\"></v-list-item>\n        </v-list>\n    </v-menu>\n</template>\n\n<script>\nimport api from \"../services/api\";\nimport util from \"../services/util\";\n\nexport default {\n    props: {\n        user: null,\n    },\n    data: function () {\n\t\treturn {\n            opened: false,\n        }\n    },\n    methods: {\n        logout: async function () {\n            await api.post('?cmd=logout');\n            this.$router.push(util.base() + 'login');\n        }\n    }\n}\n</script>","import { render } from \"./AccountButton.vue?vue&type=template&id=2886d5fa\"\nimport script from \"./AccountButton.vue?vue&type=script&lang=js\"\nexport * from \"./AccountButton.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n\t<v-app :class=\"mobile ? 'mobile' : 'desktop'\">\n\t\t<v-app-bar color=\"secondary\" v-if=\"!hideAppBar || !mobile\">\n\t\t\t<v-app-bar-nav-icon v-if=\"!mobile || !showSearch\" variant=\"text\" color=\"grey-lighten-1\"\n\t\t\t\t@click.stop=\"if (mobile) { drawer = !drawer; } else { rail = !rail }\"></v-app-bar-nav-icon>\n\n\t\t\t<v-btn v-if=\"!mobile\" :to=base variant=\"plain\">\n\t\t\t\t{{ vars?.branding?.title ? vars.branding.title : 'Admin' }}\n\t\t\t</v-btn>\n\n\t\t\t<div class=\"text-align-center w-100 d-flex flex-row justify-center align-center\" if=\"showSearch\">\n\n\t\t\t\t<div v-if=\"mobile && selected.length && $refs.childComponent.selected?.length\" class=\"flex-grow-1\">\n\t\t\t\t\t<v-btn variant=\"text\" @click=\"selectNone\">\n\t\t\t\t\t\t<v-icon icon=\"mdi-arrow-left\" />\n\t\t\t\t\t</v-btn>\n\t\t\t\t\t{{ selected.length }}\n\t\t\t\t</div>\n\n\t\t\t\t<v-combobox v-else-if=\"section && fields.length\" v-model=\"search\" :items=\"searchItems\"\n\t\t\t\t\t@update:search=\"updateSearch\" @update:model-value=\"afterSelection\" @keydown.enter=\"quickSearch\"\n\t\t\t\t\tref=\"autocomplete\" hide-details hide-no-data single-line rounded variant=\"solo-filled\" no-filter\n\t\t\t\t\tclass=\"mx-1\" style=\"max-width: 800px;\" :label=\"'Search ' + section\"\n\t\t\t\t\t:placeholder=\"'Search ' + section\" @focus=\"onSearchFocus\">\n\t\t\t\t\t<template v-slot:prepend-inner>\n\t\t\t\t\t\t<v-icon icon=\"mdi:mdi-arrow-left\" v-if=\"searchFocussed\" @click.stop=\"searchFocussed = false\"\n\t\t\t\t\t\t\t@mousedown.stop></v-icon>\n\t\t\t\t\t\t<v-app-bar-nav-icon v-else-if=\"mobile\" color=\"grey-lighten-1\"\n\t\t\t\t\t\t\t@click.stop=\"if (mobile) { drawer = !drawer; } else { rail = !rail }\"\n\t\t\t\t\t\t\t@mousedown.stop></v-app-bar-nav-icon>\n\t\t\t\t\t\t<v-icon v-else icon=\"mdi:mdi-magnify\"></v-icon>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-slot:append-inner>\n\t\t\t\t\t\t<AccountButton :user=\"user\" v-if=\"mobile && !searchFocussed\"></AccountButton>\n\t\t\t\t\t\t<v-btn v-else color=\"grey-lighten-1\" @mousedown.stop @click.stop=\"advancedSearch\"\n\t\t\t\t\t\t\t:disabled=\"fields.length === 0\" icon>\n\t\t\t\t\t\t\t<v-badge :content=\"searchParamCount\" color=\"info\" v-if=\"searchParamCount > 0\">\n\t\t\t\t\t\t\t\t<v-icon icon=\"mdi-tune\" />\n\t\t\t\t\t\t\t</v-badge>\n\t\t\t\t\t\t\t<v-icon icon=\"mdi-tune\" v-else />\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-slot:item=\"{ item, props }\">\n\t\t\t\t\t\t<v-list-item v-bind=\"props\" @mousedown.stop=\"goToRecord(item.value)\"></v-list-item>\n\t\t\t\t\t</template>\n\t\t\t\t</v-combobox>\n\t\t\t</div>\n\n\t\t\t<v-spacer v-if=\"!mobile || !showSearch\"></v-spacer>\n\n\t\t\t<AccountButton :user=\"user\" v-if=\"!mobile || !showSearch\"></AccountButton>\n\t\t</v-app-bar>\n\n\t\t<v-navigation-drawer v-model=\"drawer\" :rail=\"rail\" expand-on-hover :permanent=\"!mobile\" color=\"secondary\">\n\t\t\t<v-list>\n\t\t\t\t<v-list-item v-if=\"mobile\" :to=base prepend-icon=\"mdi-home\">\n\t\t\t\t\t{{ vars?.branding?.title ? vars.branding.title : 'Admin' }}\n\t\t\t\t</v-list-item>\n\n\t\t\t\t<v-list-item :title=\"'Upgrade'\" prepend-icon=\"mdi-rocket-launch\" :to=\"base + 'upgrade'\" base-color=\"red\"\n\t\t\t\t\tv-if=\"edition !== 'Business'\" />\n\n\t\t\t\t<div v-for=\"item in vars?.menu\" :key=\"item\">\n\t\t\t\t\t<v-list-group v-if=\"item.children\" :prepend-icon=\"item.icon ? item.icon : 'mdi-minus'\"\n\t\t\t\t\t\t:value=\"item.title\">\n\t\t\t\t\t\t<template v-slot:activator=\"{ props }\">\n\t\t\t\t\t\t\t<v-list-item v-bind=\"props\" :title=\"item.title\" />\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<v-list-item\n\t\t\t\t\t\t\tv-for=\"child in item.children\"\n\t\t\t\t\t\t\t:key=\"child.to\" :title=\"child.title\"\n\t\t\t\t\t\t\t:value=\"child.to\"\n\t\t\t\t\t\t\t:to=\"child.target_blank ? child.to : base + child.to\"\n\t\t\t\t\t\t\t:target=\"child.target_blank ? '_blank' : ''\"\n\t\t\t\t\t\t\t@click=\"if (mobile) { drawer = false; }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template v-slot:prepend>\n\t\t\t\t\t\t\t\t<v-badge :content=\"parseInt(child?.count).toLocaleString()\" color=\"error\"\n\t\t\t\t\t\t\t\t\tv-if=\"child?.count > 0\">\n\t\t\t\t\t\t\t\t\t<v-icon :icon=\"child.icon ? child.icon : 'mdi-minus'\" />\n\t\t\t\t\t\t\t\t</v-badge>\n\t\t\t\t\t\t\t\t<v-icon :icon=\"child.icon ? child.icon : 'mdi-minus'\" v-else />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-slot:append>\n\t\t\t\t\t\t\t\t<v-btn icon=\"mdi-delete\" v-if=\"child.filter_id\"\n\t\t\t\t\t\t\t\t\t@click.stop=\"deleteFilter(child.filter_id)\" variant=\"text\" size=\"x-small\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</v-list-group>\n\n\t\t\t\t\t<v-list-item \n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:title=\"item.title\"\n\t\t\t\t\t\t:value=\"item.to\"\n\t\t\t\t\t\t:to=\"item.target_blank ? item.to : base + item.to\"\n\t\t\t\t\t\t:target=\"item.target_blank ? '_blank' : ''\"\n\t\t\t\t\t\t@click=\"if (mobile) { drawer = false; }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<template v-slot:prepend>\n\t\t\t\t\t\t\t<v-badge :content=\"parseInt(child?.count).toLocaleString()\" color=\"error\"\n\t\t\t\t\t\t\t\tv-if=\"item?.count > 0\">\n\t\t\t\t\t\t\t\t<v-icon :icon=\"item.icon ? item.icon : 'mdi-minus'\" />\n\t\t\t\t\t\t\t</v-badge>\n\t\t\t\t\t\t\t<v-icon :icon=\"item.icon ? item.icon : 'mdi-minus'\" v-else />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t</div>\n\n\t\t\t\t<v-list-group prepend-icon=\"mdi-chart-line\" value=\"Reports\">\n\t\t\t\t\t<template v-slot:activator=\"{ props }\">\n\t\t\t\t\t\t<v-list-item v-bind=\"props\" title=\"Reports\" />\n\t\t\t\t\t</template>\n\n\t\t\t\t\t<v-list-item title=\"New\" prepend-icon=\"mdi-plus\" :to=\"base + 'reports/0'\" />\n\t\t\t\t\t<v-list-item v-for=\"child in vars?.reports\" :key=\"child.to\" :title=\"child.title\"\n\t\t\t\t\t\tprepend-icon=\"mdi-minus\" @click=\"openReport(child.id)\">\n\t\t\t\t\t\t<template v-slot:append>\n\t\t\t\t\t\t\t<v-btn icon=\"mdi-delete\" v-if=\"child.id\" @click.stop=\"deleteReport(child.id)\" variant=\"text\"\n\t\t\t\t\t\t\t\tsize=\"x-small\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</v-list-item>\n\t\t\t\t</v-list-group>\n\n\t\t\t\t<FileUploads ref=\"fileUploads\" @fileSelected=\"fileSelectedHandler\"\n\t\t\t\t\tv-if=\"user?.admin === 1 || user?.privileges?.uploads > 0\" />\n\t\t\t\t<v-list-item title=\"Configure\" prepend-icon=\"mdi-cog\" :to=\"base + 'configure'\"\n\t\t\t\t\tv-if=\"user?.admin === 1\" />\n\t\t\t</v-list>\n\t\t</v-navigation-drawer>\n\n\t\t<v-main class=\"d-flex flex-column align-center justify-center\">\n\t\t\t<router-view \n\t\t\t\tref=\"main\"\n\t\t\t\tclass=\"w-100 flex-grow-1\"\n\t\t\t\t:vars=\"vars\"\n\t\t\t\t:searchparams=\"searchParams\"\n\t\t\t\t:class=\"fullScreen ? 'fullScreen' : ''\"\n\t\t\t\t:mobile=\"mobile\"\n\t\t\t\t:fileSelected=\"fileSelected\"\n\t\t\t\t@changeFields=\"changeFields\"\n\t\t\t\t@changeHeaders=\"changeHeaders\"\n\t\t\t\t@chooseFileUpload=\"chooseFileUpload\"\n\t\t\t\t@message=\"message\"\n\t\t\t\t@configUpdated=\"fetchData\"\n\t\t\t\t@updateCount=\"updateCount\"\n\t\t\t\t@changeSelected=\"changeSelected\"\n\t\t\t\tv-slot=\"{ Component }\"\n\t\t\t>\n\t\t\t\t<component :is=\"Component\" ref=\"childComponent\" />\n\t\t\t</router-view>\n\t\t</v-main>\n\n\t\t<v-dialog v-model=\"advancedDialog\" max-width=\"600\" scrollable>\n\t\t\t<v-card>\n\t\t\t\t<v-card-title>Search {{ section }}</v-card-title>\n\t\t\t\t<v-divider></v-divider>\n\t\t\t\t<v-card-text>\n\t\t\t\t\t<template v-for=\"field in fields\" :key=\"field.type\">\n\t\t\t\t\t\t<v-list-item v-if=\"searchable.includes(field.type)\">\n\t\t\t\t\t\t\t<search-field :column=\"field.column\" :type=\"field.type\" :optionConfig=\"vars.options\"\n\t\t\t\t\t\t\t\t:label=\"formatString(field.column)\" v-model=\"params[field.column]\"\n\t\t\t\t\t\t\t\t:func=\"params?.func?.[field.column]\" @updateFunc=\"updateFunc\"></search-field>\n\t\t\t\t\t\t</v-list-item>\n\t\t\t\t\t</template>\n\t\t\t\t</v-card-text>\n\t\t\t\t<v-card-actions>\n\t\t\t\t\t<v-spacer></v-spacer>\n\t\t\t\t\t<v-btn @click=\"saveSearch\" color=\"primary\" variant=\"tonal\">Create filter</v-btn>\n\t\t\t\t\t<v-btn @click=\"doSearch\" color=\"primary\" variant=\"flat\">Search</v-btn>\n\t\t\t\t</v-card-actions>\n\t\t\t</v-card>\n\t\t</v-dialog>\n\t</v-app>\n</template>\n\n<script setup>\n// react to dark mode change from device\nimport { useTheme } from 'vuetify'\n\nconst theme = useTheme();\n\nwindow.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {\n\tconst newColorScheme = event.matches ? \"dark\" : \"light\";\n\ttheme.global.name.value = newColorScheme;\n});\n</script>\n\n<script>\nimport api from \"./services/api\";\nimport util from \"./services/util\";\nimport qs from \"qs\";\nimport FileUploads from \"./components/FileUploads\";\nimport SearchField from \"./components/SearchField\";\nimport { useDisplay } from 'vuetify';\nimport AccountButton from './components/AccountButton.vue';\n\nexport default {\n\tname: 'GenieAdmin',\n\n\tcomponents: {\n\t\tFileUploads,\n\t\tSearchField,\n\t\tAccountButton\n\t},\n\n\tdata: function () {\n\t\treturn {\n\t\t\tsection: '',\n\t\t\tsearch: null,\n\t\t\tsearchItems: [],\n\t\t\tdrawer: true,\n\t\t\trail: true,\n\t\t\tvars: {},\n\t\t\tdata: {},\n\t\t\tuser: {},\n\t\t\tadvancedDialog: false,\n\t\t\tfields: [], // fields which are shown\n\t\t\theaders: [], // all columns\n\t\t\tparams: { func: {} },\n\t\t\tsearchParams: {},\n\t\t\tsearchable: [\n\t\t\t\t'checkbox',\n\t\t\t\t'combo',\n\t\t\t\t'date',\n\t\t\t\t'datetime',\n\t\t\t\t'decimal',\n\t\t\t\t'deleted',\n\t\t\t\t'email',\n\t\t\t\t'id',\n\t\t\t\t'int',\n\t\t\t\t'page_name',\n\t\t\t\t'rating',\n\t\t\t\t'select',\n\t\t\t\t'select_parent',\n\t\t\t\t'select_multiple',\n\t\t\t\t'tel',\n\t\t\t\t'text',\n\t\t\t\t'timestamp',\n\t\t\t],\n\t\t\tfileSelected: {},\n\t\t\tfullScreen: false,\n\t\t\tdisplay: {},\n\t\t\tsearchFocussed: false,\n\t\t\tignoreChange: false,\n\t\t\tchild: {},\n\t\t\tselected: 0,\n\t\t\thideAppBar: false,\n\t\t};\n\t},\n\n\tmethods: {\n\t\tafterSelection: function (item) {\n\t\t\tif (typeof item !== 'object' || item === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.goToRecord(item.value);\n\t\t},\n\t\tgoToRecord(id) {\n\t\t\tthis.$router.push(this.base + 'section/' + this.section + '/' + id + '/');\n\t\t},\n\t\tupdateSearch: async function () {\n\t\t\tif (this.search !== null && typeof this.search === 'object') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet data = {\n\t\t\t\tcmd: 'get',\n\t\t\t\tsection: this.$route.params.section,\n\t\t\t\tfields: { s: this.search },\n\t\t\t\titemsPerPage: 10,\n\t\t\t\tcolumns: this.fields.map(item => item.column)\n\t\t\t};\n\n\t\t\tconst params = qs.stringify(data);\n\n\t\t\tthis.loading = true;\n\t\t\tthis.error = '';\n\n\t\t\tlet result = {};\n\t\t\ttry {\n\t\t\t\tresult = await api.get('?' + params.toString(), data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\n\t\t\tif (result.data.error) {\n\t\t\t\tthis.error = result.data.error;\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\n\t\t\t// update search combo\n\t\t\tlet searchItems = [];\n\n\t\t\tresult.data.data.forEach(item => {\n\t\t\t\tlet title = '';\n\t\t\t\tfor (const [k, v] of Object.entries(item)) {\n\t\t\t\t\tlet field = this.fields.find(field => field.column === k);\n\t\t\t\t\tif (!v || !['text'].includes(field?.type)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (title) {\n\t\t\t\t\t\ttitle += ', ';\n\t\t\t\t\t}\n\n\t\t\t\t\ttitle += v;\n\t\t\t\t}\n\n\t\t\t\tsearchItems.push({\n\t\t\t\t\tvalue: item.id,\n\t\t\t\t\ttitle: title\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.searchItems = searchItems;\n\t\t},\n\t\tupdateFunc: function (column, func) {\n\t\t\tthis.params.func[column] = func;\n\t\t},\n\t\tquickSearch: function () {\n\t\t\tthis.searchParams = { s: this.search };\n\t\t},\n\t\tdoSearch: function () {\n\t\t\tlet searchParams = {};\n\n\t\t\tfor (const [k, v] of Object.entries(this.params)) {\n\t\t\t\tif (['parentsection', 'parentid'].includes(k) || typeof v === 'undefined') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tsearchParams[k] = v;\n\t\t\t}\n\n\t\t\tconsole.log('do search update params')\n\t\t\tthis.searchParams = searchParams;\n\n\t\t\tthis.advancedDialog = false;\n\t\t},\n\t\tsaveSearch: async function () {\n\t\t\tlet label = prompt('Name this filter');\n\n\t\t\tif (!label) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet data = {\n\t\t\t\tsave: 1,\n\t\t\t\tlabel: label,\n\t\t\t\tsection: this.section,\n\t\t\t\tconditions: this.searchParams\n\t\t\t};\n\n\t\t\tawait api.post('?cmd=filters', data);\n\t\t\tthis.advancedDialog = false;\n\n\t\t\tthis.fetchData();\n\t\t},\n\t\tadvancedSearch: async function () {\n\t\t\tif (!this.params.func) {\n\t\t\t\tthis.params.func = {};\n\t\t\t}\n\n\t\t\tthis.advancedDialog = true;\n\t\t},\n\t\tchangeFields: function (fields) {\n\t\t\tthis.fields = fields;\n\t\t},\n\t\tchangeHeaders: function (headers) {\n\t\t\tthis.headers = headers;\n\t\t},\n\t\tfetchData: async function () {\n\t\t\tlet result = {};\n\t\t\ttry {\n\t\t\t\tresult = await api.get('?cmd=config');\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\n\t\t\tlet data = result.data;\n\n\t\t\t// backcompat subsections\n\t\t\tif (data?.vars && data.vars.subsections) {\n\t\t\t\tfor (let [section, subsections] of Object.entries(data.vars.subsections)) {\n\t\t\t\t\tsubsections.forEach((subsection, index) => {\n\t\t\t\t\t\tif (typeof subsection === 'string') {\n\t\t\t\t\t\t\tdata.vars.subsections[section][index] = {\n\t\t\t\t\t\t\t\ttitle: this.formatString(subsection),\n\t\t\t\t\t\t\t\tsubsection: subsection,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.vars = data?.vars;\n\t\t\tthis.user = data?.user;\n\n\t\t\tlet colors = {\n\t\t\t\tprimary: '#007bff',\n\t\t\t\tsecondary: '#303641',\n\t\t\t};\n\n\t\t\tthis.$vuetify.theme.themes.light.colors = { ...this.$vuetify.theme.themes.light.colors, ...colors, ...this.vars?.branding?.colors };\n\t\t\tthis.$vuetify.theme.themes.dark.colors = { ...this.$vuetify.theme.themes.dark.colors, ...colors, ...this.vars?.branding?.colors };\n\n\t\t\tlet title = this.vars?.branding?.title ? this.vars.branding.title : 'ADMIN';\n\n\t\t\tif (!document.title) {\n\t\t\t\tdocument.title = title;\n\t\t\t}\n\t\t},\n\t\tdeleteFilter: async function (filter_id) {\n\t\t\tif (!confirm('Are you sure?')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait api.post('?cmd=filters', { delete: filter_id });\n\t\t\tthis.fetchData();\n\t\t},\n\t\topenReport: function (id) {\n\t\t\tthis.$router.push(this.base + 'reports/' + id);\n\t\t},\n\t\tdeleteReport: async function (id) {\n\t\t\tif (!confirm('Are you sure?')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tawait api.post('?cmd=reports', { delete: id });\n\t\t\tthis.fetchData();\n\n\t\t\tif (this.$route.fullPath === this.base + 'reports/' + id) {\n\t\t\t\tthis.$router.push(this.base);\n\t\t\t}\n\t\t},\n\t\tchooseFileUpload: function (column) {\n\t\t\tthis.$refs['fileUploads'].open(column);\n\t\t},\n\t\tfileSelectedHandler: function (data) {\n\t\t\tthis.fileSelected = data;\n\t\t},\n\t\tmessage: function (data) {\n\t\t\tconsole.log(data)\n\n\t\t\tif (typeof data.fullScreen === 'boolean') {\n\t\t\t\tthis.fullScreen = data.fullScreen;\n\t\t\t}\n\t\t},\n\t\tformatString: function (string) {\n\t\t\treturn util.formatString(string);\n\t\t},\n\t\tupdateCount: function (data) {\n\t\t\tthis.vars?.menu?.forEach(menu => {\n\t\t\t\tmenu.children?.forEach(child => {\n\t\t\t\t\tif (location.href.endsWith(child.to)) {\n\t\t\t\t\t\tchild.count = data.total;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tchangeSelected: function (data) {\n\t\t\tthis.selected = data;\n\t\t},\n\t\tonSearchFocus: function () {\n\t\t\tif (this.mobile) {\n\t\t\t\tthis.searchFocussed = true;\n\t\t\t}\n\t\t},\n\t\tselectNone: function () {\n\t\t\tthis.$refs['childComponent'].selectNone();\n\t\t}\n\t},\n\n\twatch: {\n\t\t$route: async function () {\n\t\t\tif (util.getEdition() === 'Unlicensed') {\n\t\t\t\tthis.$router.push(util.base() + 'upgrade');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get params from qs\n\t\t\tlet query = this.$route.query\n\t\t\tif (query) {\n\t\t\t\tthis.params = query;\n\n\t\t\t\tthis.ignoreChange = true;\n\t\t\t\tthis.searchParams = query;\n\t\t\t\tawait this.$nextTick();\n\t\t\t\tthis.ignoreChange = false;\n\t\t\t}\n\n\t\t\tif (this.$route.params.section !== this.section) {\n\t\t\t\tthis.section = this.$route.params.section;\n\t\t\t\tthis.search = this.params.s;\n\t\t\t\tthis.headers = [];\n\t\t\t}\n\t\t},\n\t\t'$route.path': async function () {\n\t\t\tawait this.$nextTick()\n\t\t\tthis.hideAppBar = this.$refs.childComponent.hideAppBar;\n\t\t},\n\t\tsearchParams: async function (searchParams) {\n\t\t\tif (this.ignoreChange || !this.$route.params.section) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet params = {};\n\n\t\t\tfor (const [k, v] of Object.entries(searchParams)) {\n\t\t\t\tif (['parentsection', 'parentid'].includes(k) || typeof v === 'undefined') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tparams[k] = v;\n\t\t\t}\n\n\t\t\tif (Object.values(params).length) {\n\t\t\t\t// added force as there seems to be a bug with vue-router not redirecting\n\t\t\t\tawait this.$router.push({ path: this.base + 'section/' + this.$route.params.section, query: params, force: true });\n\t\t\t}\n\t\t},\n\t\tmobile(mobile) {\n\t\t\tthis.rail = !mobile;\n\t\t\tthis.drawer = !mobile;\n\t\t},\n\t\trail(newVal) {\n\t\t\tlocalStorage.rail = newVal;\n\t\t},\n\t\tadvancedDialog(newVal) {\n\t\t\tif (newVal === false) {\n\t\t\t\tthis.searchFocussed = false;\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tbase() {\n\t\t\treturn util.base();\n\t\t},\n\t\tsearchParamCount() {\n\t\t\treturn Object.keys(this.searchParams).filter(item => !['func', 's'].includes(item) && typeof this.searchParams[item] !== 'undefined').length\n\t\t},\n\t\tedition() {\n\t\t\treturn util.getEdition();\n\t\t},\n\t\tmobile: function () {\n\t\t\treturn this.display;\n\t\t},\n\t\tshowSearch: function () {\n\t\t\treturn this.headers.find(item => item.type === 'id') || false\n\t\t}\n\t},\n\n\tasync mounted() {\n\t\tconst { mobile } = useDisplay();\n\t\tthis.display = mobile;\n\n\t\tawait this.$router.isReady()\n\n\t\t// get params from qs\n\t\tlet query = this.$route.query\n\t\tif (query) {\n\t\t\tthis.params = query;\n\t\t\tthis.searchParams = query;\n\t\t\tthis.search = this.params.s;\n\t\t}\n\n\t\tif (this.$route.params.section) {\n\t\t\tthis.section = this.$route.params.section;\n\t\t}\n\n\t\tawait this.fetchData();\n\n\t\tif (localStorage.rail === 'false') {\n\t\t\tthis.rail = false;\n\t\t}\n\n\t\tthis.hideAppBar = this.$refs.childComponent.hideAppBar;\n\t}\n}\n</script>\n\n<style>\n.v-application--wrap {\n\tmin-height: 100% !important;\n}\n\n.desktop .v-navigation-drawer__content {\n\toverflow-y: hidden;\n}\n\n.v-navigation-drawer__content:hover {\n\toverflow-y: auto !important;\n}\n\n.v-navigation-drawer--rail:not(.v-navigation-drawer--is-hovering) .v-list-group .v-list-item {\n\tpadding-left: 16px !important;\n}\n\n::-webkit-scrollbar {\n\twidth: 5px;\n}\n\n::-webkit-scrollbar-track {\n\tbackground: transparent;\n}\n\n::-webkit-scrollbar-thumb {\n\tbackground-color: rgba(155, 155, 155, 0.5);\n\tborder: transparent;\n}\n\n.fullScreen {\n\tposition: static !important;\n}\n\n.fullScreen iframe {\n\tposition: absolute;\n\tbackground: #fff;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\theight: 100%;\n\twidth: 100%;\n\tz-index: 99999999;\n}\n\nhtml {\n\toverflow-y: auto;\n}\n</style>","import script from \"./Main.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Main.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=737031de&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <span>\n        <div v-if=\"['checkbox', 'deleted'].includes(type)\" class=\"mb-1\">\n            <div>{{ label }}</div>\n            <v-btn-toggle v-model=\"value\" divided>\n                <v-btn value=\"1\">\n                    Yes\n                </v-btn>\n                <v-btn value=\"0\">\n                    No\n                </v-btn>\n            </v-btn-toggle>\n        </div>\n        <v-select v-else-if=\"['select'].includes(type)\" :label=\"label\" :items=\"options\" v-model=\"value\" clearable />\n        <v-select v-else-if=\"['select_multiple'].includes(type)\" :label=\"label\" :items=\"options\" v-model=\"value\" multiple\n            chips clearable>\n            <template v-slot:prepend>\n                <v-select v-model=\"localFunc\" :items=\"['in', 'not in']\" hide-details />\n            </template>\n        </v-select>\n        <v-autocomplete v-else-if=\"type === 'combo'\" :label=\"label\" v-model=\"value\" :items=\"options\"\n            @update:search=\"updateCombo($event, column)\" />\n        <DateRange v-else-if=\"['date', 'datetime', 'timestamp'].includes(type)\" :label=\"label\" v-model=\"value\" />\n        <v-text-field v-else :label=\"label\" v-model=\"value\" :type=\"fieldType(type)\" :step=\"fieldStep(type)\">\n            <template v-slot:prepend v-if=\"['id', 'decimal', 'int', 'rating'].includes(type)\">\n                <v-select v-model=\"localFunc\" :items=\"['=', '>', '<']\" hide-details />\n            </template>\n        </v-text-field>\n    </span>\n</template>\n\n<script>\nimport api from \"../services/api\";\nimport util from \"../services/util\";\nimport DateRange from \"./DateRange\";\n\nexport default {\n    name: \"SearchField\",\n    components: {\n        DateRange\n    },\n    props: {\n        modelValue: {\n            required: true,\n        },\n        label: String,\n        column: null,\n        type: null,\n        optionConfig: null,\n        func: null,\n    },\n    emits: [\"update:modelValue\", \"updateFunc\"],\n    data: () => ({\n        localFunc: null,\n        value: null,\n        options: [],\n        ranges: [],\n    }),\n    methods: {\n        fieldType(type) {\n            switch (type) {\n                case 'dob':\n                case 'date':\n                case 'timestamp':\n                    return 'date';\n                case 'int':\n                case 'decimal':\n                    return 'number';\n                case 'datetime':\n                    return 'datetime-local';\n            }\n\n            return ['email', 'password', 'dob', 'time'].includes(type) ? type : 'text'\n        },\n        fieldStep(type) {\n            switch (type) {\n                case 'int':\n                    return 1;\n                case 'decimal':\n                    return '0.01';\n            }\n            return '';\n        },\n        updateCombo: async function (term, column) {\n            const result = await api.get('?cmd=autocomplete&field=' + column + '&term=' + term);\n            this.options = result.data.options;\n        },\n        getOptions: async function () {\n            this.options = await util.getOptions(this.column, this.type, this.optionConfig, {});\n        }\n    },\n    watch: {\n        value: function (newVal) {\n            this.$emit('update:modelValue', newVal);\n        },\n        localFunc: function (newVal) {\n            this.$emit('updateFunc', this.column, newVal);\n        },\n        field: function () {\n            this.getOptions();\n        },\n    },\n    mounted: function () {\n        this.getOptions();\n        \n        this.value = this.modelValue;\n        this.localFunc = this.func;\n\n        if (!this.localFunc) {\n            if (['decimal', 'int', 'id', 'rating'].includes(this.type)) {\n                this.localFunc = '=';\n            }\n        }\n    }\n}\n</script>","<template>\n    <v-menu ref=\"menu\" v-model=\"menu\" :close-on-content-click=\"false\" transition=\"scale-transition\" offset-y>\n        <template v-slot:activator=\"{ props }\">\n            <v-text-field v-model=\"dateRangeText\" :label=\"label\" readonly v-bind=\"props\" hide-details></v-text-field>\n        </template>\n        <v-card v-bind=\"$attrs\">\n            <v-container>\n                <v-row>\n                    <v-col>\n                        <v-list v-model:selected=\"special\">\n                            <v-list-item value=\"custom\">\n                                Custom\n                            </v-list-item>\n                            <v-list-item value=\"last7d\">\n                                Last 7 days\n                            </v-list-item>\n                            <v-list-item value=\"last28d\">\n                                Last 28 days\n                            </v-list-item>\n                            <v-list-item value=\"today\">\n                                Today\n                            </v-list-item>\n                            <v-list-item value=\"yesterday\">\n                                Yesterday\n                            </v-list-item>\n                            <v-list-item value=\"thismonth\">\n                                This month\n                            </v-list-item>\n                            <v-list-item value=\"lastmonth\">\n                                Last month\n                            </v-list-item>\n                            <v-list-item value=\"thisyear\">\n                                This year\n                            </v-list-item>\n                            <v-list-item value=\"lastyear\">\n                                Last year\n                            </v-list-item>\n                        </v-list>\n                    </v-col>\n                    <v-date-picker v-model=\"value\" no-title multiple=\"range\" :first-day-of-week=\"1\"></v-date-picker>\n                </v-row>\n            </v-container>\n        </v-card>\n    </v-menu>\n</template>\n\n<script>\nexport default {\n    name: \"DateRange\",\n    props: {\n        modelValue: {\n            type: [String, Array],\n        },\n        label: String,\n    },\n    emits: [\"update:modelValue\"],\n    data: () => ({\n        special: ['custom'],\n        menu: false,\n        value: [],\n        specialPressed: false,\n        ready: false,\n    }),\n    methods: {\n        parseDate: function (dateString) {\n            const date = new Date(dateString);\n\n            if (!date) {\n                return;\n            }\n\n            const year = date.getFullYear();\n            const month = date.getMonth() + 1;\n            const day = date.getDate();\n            const formattedMonth = month.toString().padStart(2, '0');\n            const formattedDay = day.toString().padStart(2, '0');\n            return `${year}-${formattedMonth}-${formattedDay}`;\n        },\n        createDateRange: async function () {\n            let modelValue = this.modelValue;\n            let value;\n\n            const today = new Date();\n            const year = today.getFullYear();\n            const month = today.getMonth();\n\n            if (typeof modelValue === 'string') {\n                switch (modelValue) {\n                    case 'today':\n                        value = [today];\n                    break;\n                    case 'yesterday':\n                        value = [new Date(Date.now() - 1 * 86400000)];\n                    break;\n                    case 'thismonth':\n                        value = [new Date(year, month, 1), new Date(year, month + 1, 0)];\n                    break;\n                    case 'lastmonth':\n                        value = [new Date(year, month - 1, 1), new Date(year, month, 0)];\n                    break;\n                    case 'thisyear':\n                        value = [new Date(year, 0, 1), new Date(year, 11, 31)];\n                    break;\n                    case 'lastyear':\n                        value = [new Date(year-1, 0, 1), new Date(year-1, 11, 31)];\n                    break;\n                }\n\n                if (!value) {\n                    const match = modelValue.match(/^last([0-9]+)d$/);\n\n                    if (match) {\n                        const daysAgo = parseInt(match[1]) - 1;\n                        value = [new Date(Date.now() - daysAgo * 86400000), today];\n                    } else {\n                        value = [modelValue];\n                    }\n                } else {\n                    this.special = [modelValue];\n                }\n            } else {\n                value = modelValue;\n            }\n\n            if (!value?.[0]) {\n                return false;\n            }\n\n            // default search field values\n            let currentDate = new Date(value[0]);\n            let endDate = new Date(value[value.length-1]);\n\n            // account for daylight saving\n            endDate.setHours(currentDate.getHours());\n\n            let days = [];\n            while (currentDate <= endDate) {\n                days.push(new Date(currentDate));\n                currentDate.setDate(currentDate.getDate() + 1);\n            }\n\n            this.specialPressed = true;\n\n            if (this.special[0] !== 'custom' || !this.ready) {\n                this.value = days;\n                this.ready = true;\n            }\n            \n            await this.$nextTick();\n            this.specialPressed = false;\n        },\n        formatDate: function(dateString) {            \n            const date = new Date(dateString);\n\n            return date.toLocaleDateString('en-GB', {\n                weekday: 'short', // \"Tue\"\n                month: 'short',   // \"Apr\"\n                day: 'numeric',   // \"2\"\n                year: 'numeric'   // \"2024\"\n            }).replace(',', '');\n        }\n    },\n    watch: {\n        special: function (newVal) {\n            if (newVal[0] === 'custom') {\n                if (!Array.isArray(this.modelValue)) {\n                    this.$emit('update:modelValue', [this.value[0], this.value[this.value.length - 1]]);\n                }\n\n                return;\n            }\n            \n            this.$emit('update:modelValue', newVal[0]);\n        },\n        value: function (newVal) {\n            let modelValue;\n\n            if (!this.specialPressed) {\n                this.special = ['custom'];\n            }\n\n            if (this.special[0] !== 'custom') {\n                modelValue = this.special[0];\n            } else if (newVal[0]) {\n                modelValue = [this.parseDate(newVal[0]), this.parseDate(newVal[newVal.length - 1])];\n            } else {\n                modelValue = null;\n            }\n\n            if (JSON.stringify(modelValue) != JSON.stringify(this.modelValue)) {\n                this.$emit('update:modelValue', modelValue);\n            }\n        },\n        modelValue: function () {\n            // convert to full date array\n            this.ready = false;\n            this.createDateRange();\n        }\n    },\n    computed: {\n        dateRangeText() {\n            let label = '';\n            \n            if (!this.modelValue?.[0]) {\n                return '-';\n            }\n\n            if (this.special[0] !== 'custom') {\n                return this.special[0];\n            }\n            \n            label += this.formatDate(this.modelValue[0]);\n            \n            if (this.modelValue[0] !== this.modelValue[this.modelValue.length-1]) {\n                label += ' - ' + this.formatDate(this.modelValue[this.modelValue.length-1]);\n            }\n            \n            return label;\n        },\n    },\n    mounted: function () {\n        this.createDateRange();\n    }\n}\n</script>","import { render } from \"./DateRange.vue?vue&type=template&id=0e80c79b\"\nimport script from \"./DateRange.vue?vue&type=script&lang=js\"\nexport * from \"./DateRange.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./SearchField.vue?vue&type=template&id=d88dab7c\"\nimport script from \"./SearchField.vue?vue&type=script&lang=js\"\nexport * from \"./SearchField.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_v_list_item","title","onClick","$options","open","_component_v_dialog","modelValue","_ctx","dialog","_cache","$event","scrollable","default","_withCtx","_component_v_card","error","_createBlock","_component_v_alert","key","type","_createCommentVNode","_component_v_card_actions","_component_v_btn","icon","createFolder","disabled","selected","length","deleteItems","_component_v_file_input","file","uploadFile","multiple","class","path","upLevel","_component_v_text_field","readonly","density","filter","_","_component_v_data_table","items","filteredItems","headers","rowClick","loading","item","thumb","_component_v_img","src","apiRoot","id","style","data","column","value","methods","fetchData","async","this","result","api","get","e","leaf","selectFile","filepath","$emit","substr","index","lastIndexOf","folder","prompt","post","confirm","delete","console","log","formData","FormData","forEach","append","alert","computed","name","toLowerCase","indexOf","push","mounted","getApiRoot","__exports__","render","_component_v_menu","opened","activator","props","_mergeProps","color","_withModifiers","onMousedown","_component_v_avatar","_createTextVNode","_toDisplayString","$props","user","initials","_component_v_list","logout","$router","util","base","__default__","components","FileUploads","SearchField","AccountButton","section","search","searchItems","drawer","rail","vars","advancedDialog","fields","params","func","searchParams","searchable","fileSelected","fullScreen","display","searchFocussed","ignoreChange","child","hideAppBar","afterSelection","goToRecord","updateSearch","cmd","$route","s","itemsPerPage","columns","map","qs","toString","k","v","Object","entries","field","find","includes","updateFunc","quickSearch","doSearch","saveSearch","label","save","conditions","advancedSearch","changeFields","changeHeaders","subsections","subsection","formatString","colors","primary","secondary","$vuetify","theme","themes","light","branding","dark","document","deleteFilter","filter_id","openReport","deleteReport","fullPath","chooseFileUpload","$refs","fileSelectedHandler","message","string","updateCount","menu","children","location","href","endsWith","to","count","total","changeSelected","onSearchFocus","mobile","selectNone","watch","getEdition","query","$nextTick","childComponent","values","force","newVal","localStorage","searchParamCount","keys","edition","showSearch","useDisplay","isReady","useTheme","window","matchMedia","addEventListener","event","newColorScheme","matches","global","_hoisted_1","_createElementVNode","_component_v_btn_toggle","divided","_component_v_select","options","clearable","chips","prepend","localFunc","_component_v_autocomplete","updateCombo","_component_DateRange","fieldType","step","fieldStep","_createSlots","fn","undefined","ref","transition","dateRangeText","_normalizeProps","_guardReactiveProps","$attrs","_component_v_container","_component_v_row","_component_v_col","special","_component_v_date_picker","String","Array","emits","specialPressed","ready","parseDate","dateString","date","Date","year","getFullYear","month","getMonth","day","getDate","formattedMonth","padStart","formattedDay","createDateRange","today","now","match","daysAgo","parseInt","currentDate","endDate","setHours","getHours","days","setDate","formatDate","toLocaleDateString","weekday","replace","isArray","JSON","stringify","DateRange","required","optionConfig","ranges","term","getOptions"],"sourceRoot":""}