"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[700],{50700:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var a=s(56768),i=s(19336);const r={style:{position:"relative"},class:"d-flex flex-column W-100"},n=["src"];function o(e,t,s,o,u,l){return(0,a.uX)(),(0,a.CE)("div",r,[e.isLoading?((0,a.uX)(),(0,a.Wv)(i.Z,{key:0,indeterminate:""})):(0,a.Q3)("",!0),e.webUrl?((0,a.uX)(),(0,a.CE)("iframe",{key:1,src:l.frameUrl,style:{border:"0"},class:"grow w-100 h-100",onMessage:t[0]||(t[0]=(...t)=>e.message&&e.message(...t))},null,40,n)):(0,a.Q3)("",!0)])}s(44114);var u=s(74300),l=s(27274),d=s(19122),c=s.n(d),h={data:function(){return{webUrl:"",isLoading:!1}},beforeRouteUpdate(){this.loading=!0},computed:{frameUrl:function(){let e=this.$route.query;e.frame=1;let t=c().stringify(this.$route.query);return this.webUrl+"admin/"+this.$route.params.catchAll+"?"+t}},methods:{receiveMessage:function(e){if(console.log(e.data),e.data.to&&this.$router.push(e.data.to),e.data.url){let t=e.data.url;if(t.includes("://"))return void(location.href=t);t=l.A.base()+t.substr((this.webUrl+"admin/").length),this.$router.push(t)}"boolean"===typeof e.data.fullScreen&&this.$emit("message",e.data),"boolean"===typeof e.data.loading&&(this.isLoading=e.data.loading)}},watch:{frameUrl:function(){this.isLoading=!0}},async mounted(){["Pro","Business","Trial"].includes(l.A.getEdition())?(this.webUrl=u.A.getWebUrl(),window.addEventListener("message",this.receiveMessage),this.$emit("changeFields",[])):this.$router.push(l.A.base()+"upgrade")},beforeUnmount(){window.removeEventListener("message",this.receiveMessage)}},f=s(71241);const g=(0,f.A)(h,[["render",o]]);var m=g}}]);
//# sourceMappingURL=700.89ade935.js.map