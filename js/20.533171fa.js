"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[20],{1403:function(e,t,l){l.r(t),l.d(t,{default:function(){return ke}});var a=l(3396),o=l(7139),i=l(9242),n=l(7771),s=l(870),r=l(1489),d=l(1334),u=l(1888),c=l(1222),p=l(8560),m=l(3601),f=l(9166),v=l(6107),b=l(1970),h=l(1138),g=l(5935),y=l(4870),w=l(3766),x=l(1107),k=l(9888);const V=Symbol.for("vuetify:v-expansion-panel"),W=["default","accordion","inset","popout"],_=(0,w.U)({color:String,static:Boolean,variant:{type:String,default:"default",validator:e=>W.includes(e)},readonly:Boolean,...(0,f.l)(),...(0,b.k4)(),...(0,h.Q)(),...(0,g.x$)()},"VExpansionPanels"),C=(0,x.ev)()({name:"VExpansionPanels",props:_(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;(0,b._v)(e,V);const{themeClasses:o}=(0,g.ER)(e),i=(0,a.Fl)((()=>e.variant&&`v-expansion-panels--variant-${e.variant}`));return(0,v.AF)({VExpansionPanel:{color:(0,y.Vh)(e,"color"),readonly:(0,y.Vh)(e,"readonly"),static:(0,y.Vh)(e,"static")}}),(0,k.L)((()=>(0,a.Wm)(e.tag,{class:["v-expansion-panels",o.value,i.value,e.class],style:e.style},l))),{}}});l(560);var S=l(8952),D=l(1136);const T=(0,w.U)({...(0,f.l)(),...(0,D.H)()},"VExpansionPanelText"),U=(0,x.ev)()({name:"VExpansionPanelText",props:T(),setup(e,t){let{slots:l}=t;const o=(0,a.f3)(V);if(!o)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:n,onAfterLeave:s}=(0,D.l)(e,o.isSelected);return(0,k.L)((()=>(0,a.Wm)(S.Fx,{onAfterLeave:s},{default:()=>[(0,a.wy)((0,a.Wm)("div",{class:["v-expansion-panel-text",e.class],style:e.style},[l.default&&n.value&&(0,a.Wm)("div",{class:"v-expansion-panel-text__wrapper"},[l.default?.()])]),[[i.F8,o.isSelected.value]])]}))),{}}});var F=l(3289),O=l(2370),I=l(4960),E=l(3824);const B=(0,w.U)({color:String,expandIcon:{type:I.lE,default:"$expand"},collapseIcon:{type:I.lE,default:"$collapse"},hideActions:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...(0,f.l)()},"VExpansionPanelTitle"),P=(0,x.ev)()({name:"VExpansionPanelTitle",directives:{Ripple:E.H},props:B(),setup(e,t){let{slots:l}=t;const o=(0,a.f3)(V);if(!o)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:i,backgroundColorStyles:n}=(0,O.Y5)(e,"color"),s=(0,a.Fl)((()=>({collapseIcon:e.collapseIcon,disabled:o.disabled.value,expanded:o.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})));return(0,k.L)((()=>(0,a.wy)((0,a.Wm)("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":o.isSelected.value,"v-expansion-panel-title--static":e.static},i.value,e.class],style:[n.value,e.style],type:"button",tabindex:o.disabled.value?-1:void 0,disabled:o.disabled.value,"aria-expanded":o.isSelected.value,onClick:e.readonly?void 0:o.toggle},[(0,a.Wm)("span",{class:"v-expansion-panel-title__overlay"},null),l.default?.(s.value),!e.hideActions&&(0,a.Wm)("span",{class:"v-expansion-panel-title__icon"},[l.actions?l.actions(s.value):(0,a.Wm)(F.t,{icon:o.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[(0,a.Q2)("ripple"),e.ripple]]))),{}}});var j=l(2465),Y=l(4231);const q=(0,w.U)({title:String,text:String,bgColor:String,...(0,f.l)(),...(0,j.c)(),...(0,b.YQ)(),...(0,D.H)(),...(0,Y.I)(),...(0,h.Q)(),...B()},"VExpansionPanel"),H=(0,x.ev)()({name:"VExpansionPanel",props:q(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:l}=t;const o=(0,b.Yt)(e,V),{backgroundColorClasses:i,backgroundColorStyles:n}=(0,O.Y5)(e,"bgColor"),{elevationClasses:s}=(0,j.Y)(e),{roundedClasses:r}=(0,Y.b)(e),d=(0,a.Fl)((()=>o?.disabled.value||e.disabled)),u=(0,a.Fl)((()=>o.group.items.value.reduce(((e,t,l)=>(o.group.selected.value.includes(t.id)&&e.push(l),e)),[]))),c=(0,a.Fl)((()=>{const e=o.group.items.value.findIndex((e=>e.id===o.id));return!o.isSelected.value&&u.value.some((t=>t-e===1))})),p=(0,a.Fl)((()=>{const e=o.group.items.value.findIndex((e=>e.id===o.id));return!o.isSelected.value&&u.value.some((t=>t-e===-1))}));return(0,a.JJ)(V,o),(0,v.AF)({VExpansionPanelText:{eager:(0,y.Vh)(e,"eager")},VExpansionPanelTitle:{readonly:(0,y.Vh)(e,"readonly")}}),(0,k.L)((()=>{const t=!(!l.text&&!e.text),u=!(!l.title&&!e.title);return(0,a.Wm)(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":o.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":p.value,"v-expansion-panel--disabled":d.value},r.value,i.value,e.class],style:[n.value,e.style]},{default:()=>[(0,a.Wm)("div",{class:["v-expansion-panel__shadow",...s.value]},null),u&&(0,a.Wm)(P,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[l.title?l.title():e.title]}),t&&(0,a.Wm)(U,{key:"text"},{default:()=>[l.text?l.text():e.text]}),l.default?.()]})})),{}}});var L=l(9234),M=l(6052),$=l(9457),A=l(2127),z=l(6233);const G=(0,w.U)({...(0,z.UZ)({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),Z=(0,x.ev)()({name:"VRadio",props:G(),setup(e,t){let{slots:l}=t;return(0,k.L)((()=>(0,a.Wm)(z.g5,(0,a.dG)(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),l))),{}}});var R=l(9114),N=l(7302),K=l(835),Q=l(8717),J=l(131),X=l(7514);const ee=(0,w.U)({height:{type:[Number,String],default:"auto"},...(0,R.c)(),...(0,J.CE)((0,K.Z1)(),["multiple"]),trueIcon:{type:I.lE,default:"$radioOn"},falseIcon:{type:I.lE,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),te=(0,x.ev)()({name:"VRadioGroup",inheritAttrs:!1,props:ee(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:l,slots:o}=t;const i=(0,X.sq)(),n=(0,a.Fl)((()=>e.id||`radio-group-${i}`)),s=(0,Q.z)(e,"modelValue");return(0,k.L)((()=>{const[t,i]=(0,J.An)(l),r=R.q.filterProps(e),d=z.g5.filterProps(e),u=o.label?o.label({label:e.label,props:{for:n.value}}):e.label;return(0,a.Wm)(R.q,(0,a.dG)({class:["v-radio-group",e.class],style:e.style},t,r,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,id:n.value}),{...o,default:t=>{let{id:l,messagesId:n,isDisabled:r,isReadonly:c}=t;return(0,a.Wm)(a.HY,null,[u&&(0,a.Wm)(N.J,{id:l.value},{default:()=>[u]}),(0,a.Wm)(K.Ee,(0,a.dG)(d,{id:l.value,"aria-describedby":n.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:r.value,readonly:c.value,"aria-labelledby":u?l.value:void 0,multiple:!1},i,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e}),o)])}})})),{}}});var le=l(240),ae=l(4286),oe=l(1165),ie=l(9870),ne=l(165),se=l(4842);const re={class:"w-100"},de={key:2},ue={key:3},ce={key:1,"min-width":"600"},pe={key:2},me={key:3},fe={key:4};function ve(e,t,l,f,v,b){const h=(0,a.up)("draggable");return(0,a.wg)(),(0,a.iD)("div",re,[(0,a.Wm)(oe.d,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(ie.L,{value:"tables"},{default:(0,a.w5)((()=>[(0,a.Uk)("Tables")])),_:1}),(0,a.Wm)(ie.L,{value:"sections"},{default:(0,a.w5)((()=>[(0,a.Uk)("Sections")])),_:1}),(0,a.Wm)(ie.L,{value:"options"},{default:(0,a.w5)((()=>[(0,a.Uk)("Options")])),_:1}),(0,a.Wm)(ie.L,{value:"general"},{default:(0,a.w5)((()=>[(0,a.Uk)("General")])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(r._,{loading:e.loading},{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>["tables"!==e.tab?((0,a.wg)(),(0,a.j4)(s.T,{key:0,color:"primary",variant:"flat",onClick:b.save,disabled:!e.dirty},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["onClick","disabled"])):(0,a.kq)("",!0),"tables"===e.tab?((0,a.wg)(),(0,a.j4)(s.T,{key:1,icon:"mdi-plus",onClick:t[1]||(t[1]=t=>{e.table={},e.tableDialog=!0})})):(0,a.kq)("",!0),"sections"===e.tab?((0,a.wg)(),(0,a.iD)("span",de,[(0,a.Wm)(s.T,{icon:"mdi-plus",onClick:t[2]||(t[2]=t=>{e.section={},e.sectionDialog=!0})}),(0,a.Wm)(s.T,{icon:"mdi-sort",title:"Sort",onClick:t[3]||(t[3]=t=>b.openSectionSortable(e.data.vars.sections))})])):(0,a.kq)("",!0),"options"===e.tab?((0,a.wg)(),(0,a.iD)("span",ue,[(0,a.Wm)(s.T,{icon:"mdi-plus",onClick:t[4]||(t[4]=t=>{e.option={name:""},e.optionDialog=!0})})])):(0,a.kq)("",!0)])),_:1}),"tables"===e.tab?((0,a.wg)(),(0,a.iD)("div",ce,[(0,a.Wm)(C,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.tables,((l,n)=>((0,a.wg)(),(0,a.j4)(H,{modelValue:e.panel,"onUpdate:modelValue":t[5]||(t[5]=t=>e.panel=t),multiple:"",key:n},{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(n),1),(0,a.Wm)(L.C),(0,a.Wm)(s.T,{icon:"mdi-sort",title:"Sort",onClick:e=>b.openSortable(n,l)},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-pencil",onClick:(0,i.iM)((t=>{e.table={id:n,name:n},e.tableDialog=!0}),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-delete",onClick:(0,i.iM)((e=>b.deleteTable(n)),["stop"])},null,8,["onClick"])])),_:2},1024),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{icon:"mdi-plus",onClick:t=>{e.field={name:"",type:"text",table:n},e.fieldDialog=!0}},null,8,["onClick"])])),_:2},1024),(0,a.Wm)(M.i,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l,((t,l)=>((0,a.wg)(),(0,a.j4)($.l,{key:l},{append:(0,a.w5)((()=>[(0,a.Wm)(s.T,{icon:"mdi-pencil",onClick:(0,i.iM)((l=>{e.field={...t},e.field.id=t.name,e.field.table=n,e.fieldDialog=!0}),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-delete",onClick:(0,i.iM)((e=>b.deleteField(n,t.name)),["stop"])},null,8,["onClick"])])),default:(0,a.w5)((()=>[(0,a.Wm)(A.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.name),1)])),_:2},1024),(0,a.Wm)(A.V,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.type),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["modelValue"])))),128))])),_:1})])):(0,a.kq)("",!0),"sections"===e.tab?((0,a.wg)(),(0,a.iD)("div",pe,[(0,a.Wm)(C,{modelValue:e.panel,"onUpdate:modelValue":t[6]||(t[6]=t=>e.panel=t),multiple:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.vars.sections,((t,l)=>((0,a.wg)(),(0,a.j4)(H,{key:l},{default:(0,a.w5)((()=>[(0,a.Wm)(P,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t)+" ",1),(0,a.Wm)(L.C),(0,a.Wm)(s.T,{icon:"mdi-plus",onClick:(0,i.iM)((l=>{e.subsection={section:t},e.subsectionDialog=!0}),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-sort",title:"Sort",onClick:(0,i.iM)((l=>b.openSectionSortable(e.data.vars.subsections[t])),["stop"]),disabled:!e.data.vars.subsections[t]||!e.data.vars.subsections[t].length},null,8,["onClick","disabled"]),(0,a.Wm)(s.T,{icon:"mdi-pencil",onClick:(0,i.iM)((a=>{e.section={section:t,index:l},e.sectionDialog=!0}),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-delete",onClick:(0,i.iM)((e=>b.deleteSection(l)),["stop"])},null,8,["onClick"])])),_:2},1024),(0,a.Wm)(U,null,{default:(0,a.w5)((()=>[(0,a.Wm)(M.i,null,{default:(0,a.w5)((()=>[e.data.vars.subsections?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(e.data.vars.subsections[t],((l,o)=>((0,a.wg)(),(0,a.j4)($.l,{key:o,title:l},{append:(0,a.w5)((()=>[(0,a.Wm)(s.T,{icon:"mdi-pencil",onClick:(0,i.iM)((a=>{e.subsection={section:t,subsection:l,index:o},e.subsectionDialog=!0}),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-delete",onClick:(0,i.iM)((e=>b.deleteSubsection(t,o)),["stop"])},null,8,["onClick"])])),_:2},1032,["title"])))),128)):(0,a.kq)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])):(0,a.kq)("",!0),"options"===e.tab?((0,a.wg)(),(0,a.iD)("div",me,[(0,a.Wm)(M.i,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.data.vars.options,((e,t,l)=>((0,a.wg)(),(0,a.j4)($.l,{key:l,title:t},{append:(0,a.w5)((()=>[(0,a.Wm)(s.T,{icon:"mdi-pencil",onClick:(0,i.iM)((e=>b.editOption(t)),["stop"])},null,8,["onClick"]),(0,a.Wm)(s.T,{icon:"mdi-delete",onClick:(0,i.iM)((e=>b.deleteOption(t)),["stop"])},null,8,["onClick"])])),_:2},1032,["title"])))),128))])),_:1})])):(0,a.kq)("",!0),"general"===e.tab?((0,a.wg)(),(0,a.iD)("div",fe,[(0,a.Wm)(ne.h,{label:"From email",modelValue:e.data.from_email,"onUpdate:modelValue":t[7]||(t[7]=t=>e.data.from_email=t)},null,8,["modelValue"])])):(0,a.kq)("",!0)])),_:1},8,["loading"]),(0,a.Wm)(m.B,{modelValue:e.tableDialog,"onUpdate:modelValue":t[9]||(t[9]=t=>e.tableDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Table"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(ne.h,{label:"Name",modelValue:e.table.name,"onUpdate:modelValue":t[8]||(t[8]=t=>e.table.name=t)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"flat",color:"primary",disabled:""===e.table.name,onClick:b.saveTable},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.fieldDialog,"onUpdate:modelValue":t[14]||(t[14]=t=>e.fieldDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Field"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(ne.h,{label:"Name",modelValue:e.field.name,"onUpdate:modelValue":t[10]||(t[10]=t=>e.field.name=t)},null,8,["modelValue"]),(0,a.Wm)(le.rL,{label:"Field",modelValue:e.field.type,"onUpdate:modelValue":t[11]||(t[11]=t=>e.field.type=t),items:e.fieldTypes},null,8,["modelValue","items"]),(0,a.Wm)(ne.h,{label:"Label",modelValue:e.field.label,"onUpdate:modelValue":t[12]||(t[12]=t=>e.field.label=t)},null,8,["modelValue"]),(0,a.Wm)(c.x,{label:"Required",modelValue:e.field.required,"onUpdate:modelValue":t[13]||(t[13]=t=>e.field.required=t)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"flat",color:"primary",disabled:""===e.field.name,onClick:b.saveField},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.sortFieldsDialog,"onUpdate:modelValue":t[17]||(t[17]=t=>e.sortFieldsDialog=t),"max-width":"600",scrollable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Sort Field Order"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{modelValue:e.sortOrder,"onUpdate:modelValue":t[15]||(t[15]=t=>e.sortOrder=t),group:"items",onStart:t[16]||(t[16]=t=>e.drag=!0),onEnd:b.moveField,"item-key":"name"},{item:(0,a.w5)((({element:e})=>[(0,a.Wm)(ae.C,{color:"primary",class:"ma-5 pa-5"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.name),1)])),_:2},1024)])),_:1},8,["modelValue","onEnd"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.sortSectionsDialog,"onUpdate:modelValue":t[19]||(t[19]=t=>e.sortSectionsDialog=t),"max-width":"600",scrollable:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Sort Section Order"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{list:e.sortOrder,group:"items","item-key":"",onEnd:t[18]||(t[18]=t=>e.dirty=!0)},{item:(0,a.w5)((({element:e})=>[(0,a.Wm)(ae.C,{color:"primary",class:"ma-5 pa-5"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e),1)])),_:2},1024)])),_:1},8,["list"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.sectionDialog,"onUpdate:modelValue":t[21]||(t[21]=t=>e.sectionDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Section"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(p.E,{label:"Section",modelValue:e.section.section,"onUpdate:modelValue":t[20]||(t[20]=t=>e.section.section=t),items:e.data.vars.sections},null,8,["modelValue","items"])])),_:1}),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"flat",color:"primary",disabled:""===e.section.section,onClick:b.saveSection},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.subsectionDialog,"onUpdate:modelValue":t[23]||(t[23]=t=>e.subsectionDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Subsection"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(p.E,{label:"Subsection",modelValue:e.subsection.subsection,"onUpdate:modelValue":t[22]||(t[22]=t=>e.subsection.subsection=t),items:e.data.vars.sections},null,8,["modelValue","items"])])),_:1}),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"flat",color:"primary",disabled:""===e.subsection.section,onClick:b.saveSubsection},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(m.B,{modelValue:e.optionDialog,"onUpdate:modelValue":t[28]||(t[28]=t=>e.optionDialog=t),"max-width":"600"},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"Option"},{default:(0,a.w5)((()=>[(0,a.Wm)(u.Z,null,{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(n.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(ne.h,{label:"Name",modelValue:e.option.name,"onUpdate:modelValue":t[24]||(t[24]=t=>e.option.name=t)},null,8,["modelValue"]),(0,a.Wm)(te,{modelValue:e.option.type,"onUpdate:modelValue":t[25]||(t[25]=t=>e.option.type=t)},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{label:"Section",value:"section"}),(0,a.Wm)(Z,{label:"Options",value:"options"})])),_:1},8,["modelValue"]),"section"===e.option.type?((0,a.wg)(),(0,a.j4)(le.rL,{key:1,label:"section",modelValue:e.option.options,"onUpdate:modelValue":t[26]||(t[26]=t=>e.option.options=t),items:e.data.vars.sections},null,8,["modelValue","items"])):"options"===e.option.type?((0,a.wg)(),(0,a.j4)(se.z,{key:2,label:"options",modelValue:e.option.options,"onUpdate:modelValue":t[27]||(t[27]=t=>e.option.options=t)},null,8,["modelValue"])):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(d.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{variant:"flat",color:"primary",disabled:""===e.option.name,onClick:b.saveOption},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var be=l(1006),he=l(6983),ge=l.n(he),ye={components:{draggable:ge()},props:{vars:null},data:function(){return{tab:"tables",panel:[],table:{},tableDialog:!1,field:{},fieldDialog:!1,data:{},error:"",loading:!1,fieldTypes:["avg_rating","checkbox","checkboxes","color","combo","coords","date","datetime","decimal","deleted","dob","editor","email","file","files","hidden","id","integer","ip","mobile","month","page_name","password","polygon","position","postcode","radio","rating","read","select","select_multiple","select_parent","tel","text","textarea","time","timestamp","upload","uploads","url"],drag:!1,sortFieldsDialog:!1,sortTable:"",sortOrder:[],sectionDialog:!1,section:{},subsectionDialog:!1,subsection:{},optionDialog:!1,option:{},sortSectionsDialog:!1,dirty:!1}},methods:{fetchData:async function(){const e=await be.Z.get("config.php");let t=e.data;t.vars.subsections||(t.vars.subsections={}),this.data=t,this.dirty=!1},save:async function(){this.error="",this.loading=!0;const e=await be.Z.post("config.php?cmd=save",{from_email:this.data.from_email,sections:this.data.vars.sections,subsections:this.data.vars.subsections,options:this.data.vars.options,last_modified:this.data.last_modified});this.loading=!1,e.data.error?this.error=e.data.error:this.fetchData()},saveTable:async function(){this.error="",this.loading=!0;const e=await be.Z.post("config.php?cmd=save_table",this.table);this.loading=!1,e.data.error?this.error=e.data.error:(this.tableDialog=!1,this.fetchData())},deleteTable:async function(e){if(!confirm("Drop table "+e))return;this.error="",this.loading=!0;const t=await be.Z.post("config.php?cmd=delete_table",{table:e});this.loading=!1,t.data.error?this.error=t.data.error:this.fetchData()},saveField:async function(){this.error="",this.loading=!0;const e=await be.Z.post("config.php?cmd=save_field",this.field);this.loading=!1,e.data.error?this.error=e.data.error:(this.fieldDialog=!1,this.fetchData())},deleteField:async function(e,t){if(!confirm("Drop field "+t+" from "+e))return;this.error="",this.loading=!0;const l=await be.Z.post("config.php?cmd=delete_field",{table:e,field:t});this.loading=!1,l.data.error?this.error=l.data.error:this.fetchData()},openSortable:function(e,t){this.sortOrder=[...t],this.sortTable=e,this.sortFieldsDialog=!0},openSectionSortable:function(e){this.sortOrder=e,this.sortSectionsDialog=!0},moveField:async function(e){let t=this.sortOrder[e.newIndex].name,l=e.newIndex?this.sortOrder[e.newIndex-1].name:"";this.error="",this.loading=!0;const a=await be.Z.post("config.php?cmd=move_field",{table:this.sortTable,field:t,after:l});this.loading=!1,a.data.error?this.error=a.data.error:this.fetchData()},saveSection:function(){Object.hasOwn(this.section,"index")?this.data.vars.sections[this.section.index]=this.section.section:this.data.vars.sections.push(this.section.section),this.sectionDialog=!1,this.dirty=!0},deleteSection:function(e){confirm("Delete section")&&(this.data.vars.sections.splice(e,1),this.dirty=!0)},saveSubsection:function(){Object.hasOwn(this.subsection,"index")?this.data.vars.subsections[this.subsection.section][this.subsection.index]=this.subsection.subsection:this.data.vars.subsections[this.subsection.section].push(this.subsection.subsection),this.subsectionDialog=!1,this.dirty=!0},deleteSubsection:function(e,t){confirm("Delete subsection")&&(this.data.vars.subsections[e].splice(t,1),this.dirty=!0)},renameObjKey:function(e,t,l){const a=Object.keys(e),o=a.reduce(((a,o)=>(o===t?a[l]=e[t]:a[o]=e[o],a)),{});return o},optionsToString:function(e){let t="";if(Array.isArray(e))e.forEach((function(e){t+=e+"\n"}));else if("object"===typeof e)for(let[l,a]of Object.entries(e))t+=l.replace("#","")+"="+a+"\n";else t=e;return t},editOption:function(e){this.option={name:e,index:e,type:"options"},"string"===typeof options&&(this.option.type="section"),this.option.options=this.optionsToString(this.data.vars.options[e]),this.optionDialog=!0,this.dirty=!0},saveOption:function(){let e;if("section"===this.option.type)e=this.option.options;else{let t=this.option.options.split("\n");e=t[0].includes("=")?{}:[],t.forEach((t=>{if(Array.isArray(e))e.push(t);else{let l=t.split("=");e[l[0]]=l[1]}}))}Object.hasOwn(this.option,"index")&&(this.data.vars.options=this.renameObjKey(this.data.vars.options,this.option.index,this.option.name)),this.data.vars.options[this.option.name]=e,this.optionDialog=!1,this.dirty=!0},deleteOption:function(e){confirm("Delete option")&&(delete this.data.vars.options[e],this.dirty=!0)}},watch:{vars:function(){this.fetchData()}},async mounted(){this.vars.sections&&this.fetchData()}},we=l(89);const xe=(0,we.Z)(ye,[["render",ve]]);var ke=xe},9870:function(e,t,l){l.d(t,{L:function(){return b}});var a=l(3396),o=l(870),i=l(2370),n=l(3185),s=l(4870),r=l(3421),d=l(3766),u=l(131),c=l(1107),p=l(3122),m=l(8587),f=l(9888);const v=(0,d.U)({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...(0,u.CE)((0,o.L)({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),b=(0,c.ev)()({name:"VTab",props:v(),setup(e,t){let{slots:l,attrs:d}=t;const{textColorClasses:u,textColorStyles:c}=(0,i.rY)(e,"sliderColor"),v=(0,s.iH)(),b=(0,s.iH)(),h=(0,a.Fl)((()=>"horizontal"===e.direction)),g=(0,a.Fl)((()=>v.value?.group?.isSelected.value??!1));function y(e){let{value:t}=e;if(t){const e=v.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),t=b.value;if(!e||!t)return;const l=getComputedStyle(e).color,a=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=h.value?"x":"y",n=h.value?"X":"Y",s=h.value?"right":"bottom",r=h.value?"width":"height",d=a[i],u=o[i],c=d>u?a[s]-o[s]:a[i]-o[i],f=Math.sign(c)>0?h.value?"right":"bottom":Math.sign(c)<0?h.value?"left":"top":"center",g=Math.abs(c)+(Math.sign(c)<0?a[r]:o[r]),y=g/Math.max(a[r],o[r])||0,w=a[r]/o[r]||0,x=1.5;(0,p.j)(t,{backgroundColor:[l,"currentcolor"],transform:[`translate${n}(${c}px) scale${n}(${w})`,`translate${n}(${c/x}px) scale${n}(${(y-1)/x+1})`,"none"],transformOrigin:Array(3).fill(f)},{duration:225,easing:m.Ly})}}return(0,f.L)((()=>{const t=o.T.filterProps(e);return(0,a.Wm)(o.T,(0,a.dG)({symbol:r.a,ref:v,class:["v-tab",e.class],style:e.style,tabindex:g.value?0:-1,role:"tab","aria-selected":String(g.value),active:!1},t,d,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":y}),{...l,default:()=>(0,a.Wm)(a.HY,null,[l.default?.()??e.text,!e.hideSlider&&(0,a.Wm)("div",{ref:b,class:["v-tab__slider",u.value],style:c.value},null)])})})),(0,n.F)({},v)}})},1165:function(e,t,l){l.d(t,{d:function(){return y}});var a=l(3396),o=l(9870),i=l(8675),n=l(2370),s=l(6107),r=l(9694),d=l(8717),u=l(1138),c=l(4870),p=l(131),m=l(3766),f=l(1107),v=l(9888),b=l(3421);function h(e){return e?e.map((e=>(0,p.Kn)(e)?e:{text:e,value:e})):[]}const g=(0,m.U)({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...(0,i.Dw)({mandatory:"force"}),...(0,r.f)(),...(0,u.Q)()},"VTabs"),y=(0,f.ev)()({name:"VTabs",props:g(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const u=(0,d.z)(e,"modelValue"),m=(0,a.Fl)((()=>h(e.items))),{densityClasses:f}=(0,r.t)(e),{backgroundColorClasses:g,backgroundColorStyles:y}=(0,n.Y5)((0,c.Vh)(e,"bgColor"));return(0,s.AF)({VTab:{color:(0,c.Vh)(e,"color"),direction:(0,c.Vh)(e,"direction"),stacked:(0,c.Vh)(e,"stacked"),fixed:(0,c.Vh)(e,"fixedTabs"),sliderColor:(0,c.Vh)(e,"sliderColor"),hideSlider:(0,c.Vh)(e,"hideSlider")}}),(0,v.L)((()=>{const t=i.Ir.filterProps(e);return(0,a.Wm)(i.Ir,(0,a.dG)(t,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},f.value,g.value,e.class],style:[{"--v-tabs-height":(0,p.kb)(e.height)},y.value,e.style],role:"tablist",symbol:b.a}),{default:()=>[l.default?l.default():m.value.map((e=>(0,a.Wm)(o.L,(0,a.dG)(e,{key:e.text}),null)))]})})),{}}})},3421:function(e,t,l){l.d(t,{a:function(){return a}});const a=Symbol.for("vuetify:v-tabs")},4842:function(e,t,l){l.d(t,{z:function(){return g}});var a=l(3396),o=l(9242),i=(l(348),l(2816)),n=l(7173),s=l(9114),r=l(8969),d=l(3185),u=l(8717),c=l(7052),p=l(4870),m=l(3766),f=l(1107),v=l(131),b=l(9888);const h=(0,m.U)({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...(0,s.c)(),...(0,n.hy)()},"VTextarea"),g=(0,f.ev)()({name:"VTextarea",directives:{Intersect:c.Z},inheritAttrs:!1,props:h(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:l,emit:c,slots:m}=t;const f=(0,u.z)(e,"modelValue"),{isFocused:h,focus:g,blur:y}=(0,r.K)(e),w=(0,a.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(f.value):(f.value||"").toString().length)),x=(0,a.Fl)((()=>l.maxlength?l.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function k(t,l){e.autofocus&&t&&l[0].target?.focus?.()}const V=(0,p.iH)(),W=(0,p.iH)(),_=(0,p.XI)(""),C=(0,p.iH)(),S=(0,a.Fl)((()=>e.persistentPlaceholder||h.value||e.active));function D(){C.value!==document.activeElement&&C.value?.focus(),h.value||g()}function T(e){D(),c("click:control",e)}function U(e){c("mousedown:control",e)}function F(t){t.stopPropagation(),D(),(0,a.Y3)((()=>{f.value="",(0,v.dr)(e["onClick:clear"],t)}))}function O(t){const l=t.target;if(f.value=l.value,e.modelModifiers?.trim){const e=[l.selectionStart,l.selectionEnd];(0,a.Y3)((()=>{l.selectionStart=e[0],l.selectionEnd=e[1]}))}}const I=(0,p.iH)(),E=(0,p.iH)(+e.rows),B=(0,a.Fl)((()=>["plain","underlined"].includes(e.variant)));function P(){e.autoGrow&&(0,a.Y3)((()=>{if(!I.value||!W.value)return;const t=getComputedStyle(I.value),l=getComputedStyle(W.value.$el),a=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),o=I.value.scrollHeight,i=parseFloat(t.lineHeight),n=Math.max(parseFloat(e.rows)*i+a,parseFloat(l.getPropertyValue("--v-input-control-height"))),s=parseFloat(e.maxRows)*i+a||1/0,r=(0,v.uZ)(o??0,n,s);E.value=Math.floor((r-a)/i),_.value=(0,v.kb)(r)}))}let j;return(0,a.m0)((()=>{e.autoGrow||(E.value=+e.rows)})),(0,a.bv)(P),(0,a.YP)(f,P),(0,a.YP)((()=>e.rows),P),(0,a.YP)((()=>e.maxRows),P),(0,a.YP)((()=>e.density),P),(0,a.YP)(I,(e=>{e?(j=new ResizeObserver(P),j.observe(I.value)):j?.disconnect()})),(0,a.Jd)((()=>{j?.disconnect()})),(0,b.L)((()=>{const t=!!(m.counter||e.counter||e.counterValue),r=!(!t&&!m.details),[d,u]=(0,v.An)(l),{modelValue:c,...p}=s.q.filterProps(e),b=(0,n.g8)(e);return(0,a.Wm)(s.q,(0,a.dG)({ref:V,modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":B.value},e.class],style:e.style},d,p,{centerAffix:1===E.value&&!B.value,focused:h.value}),{...m,default:t=>{let{id:l,isDisabled:i,isDirty:s,isReadonly:r,isValid:d}=t;return(0,a.Wm)(n.hF,(0,a.dG)({ref:W,style:{"--v-textarea-control-height":_.value},onClick:T,onMousedown:U,"onClick:clear":F,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},b,{id:l.value,active:S.value||s.value,centerAffix:1===E.value&&!B.value,dirty:s.value||e.dirty,disabled:i.value,focused:h.value,error:!1===d.value}),{...m,default:t=>{let{props:{class:l,...n}}=t;return(0,a.Wm)(a.HY,null,[e.prefix&&(0,a.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,a.wy)((0,a.Wm)("textarea",(0,a.dG)({ref:C,class:l,value:f.value,onInput:O,autofocus:e.autofocus,readonly:r.value,disabled:i.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:D,onBlur:y},n,u),null),[[(0,a.Q2)("intersect"),{handler:k},null,{once:!0}]]),e.autoGrow&&(0,a.wy)((0,a.Wm)("textarea",{class:[l,"v-textarea__sizer"],id:`${n.id}-sizer`,"onUpdate:modelValue":e=>f.value=e,ref:I,readonly:!0,"aria-hidden":"true"},null),[[o.nr,f.value]]),e.suffix&&(0,a.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:r?l=>(0,a.Wm)(a.HY,null,[m.details?.(l),t&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("span",null,null),(0,a.Wm)(i._,{active:e.persistentCounter||h.value,value:w.value,max:x.value},m.counter)])]):void 0})})),(0,d.F)({},V,W,C)}})}}]);
//# sourceMappingURL=20.533171fa.js.map