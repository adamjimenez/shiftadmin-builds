"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[597],{1597:function(e,l,t){t.r(l),t.d(l,{default:function(){return b}});var a=t(3396),o=t(7771),s=t(7312),r=t(1489),n=t(1888),i=t(1334),d=t(6422),u=t(165);function c(e,l,t,c,m,p){return(0,a.wg)(),(0,a.j4)(d.O,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":l[2]||(l[2]=l=>e.valid=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(r._,{title:"ShiftAdmin",subtitle:"Sign in",loading:e.loading},{default:(0,a.w5)((()=>[e.error?((0,a.wg)(),(0,a.j4)(o.w,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.kq)("",!0),(0,a.Wm)(d.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(n.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u.h,{modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=l=>e.email=l),rules:e.usernameRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,a.Wm)(u.h,{type:"password",modelValue:e.password,"onUpdate:modelValue":l[1]||(l[1]=l=>e.password=l),rules:e.passwordRules,label:"Password",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.Wm)(i.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s.T,{color:"success",onClick:p.login,variant:"flat",text:"Login",type:"submit"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1},8,["modelValue"])}t(560);var m=t(1006),p=t(2564),v={data:()=>({valid:!0,email:"",password:"",usernameRules:[e=>!!e||"Username is required"],passwordRules:[e=>!!e||"Password is required"],loading:!1,error:""}),methods:{fetchData:async function(){const e=await m.Z.post("?cmd=login");1===e.data.code&&this.$router.push(p.Z.base())},login:async function(){this.error="";var e={cmd:"login",email:this.email,password:this.password};this.loading=!0;const l=await m.Z.post("?cmd=login",e);this.loading=!1,l.data.error?this.error=l.data.error:this.$router.push(p.Z.base())}},mounted:function(){this.fetchData()}},f=t(89);const y=(0,f.Z)(v,[["render",c]]);var b=y},7771:function(e,l,t){t.d(l,{w:function(){return $}});var a=t(3396),o=t(1114);const s=(0,o.J)("v-alert-title");var r=t(7312),n=t(836),i=t(3289),d=t(2370),u=t(9166),c=t(9694),m=t(4544),p=t(2465),v=t(4960),f=t(9637),y=t(5180),b=t(489),h=t(8717),g=t(4231),w=t(1138),k=t(5935),V=t(5221),W=t(4870),C=t(3766),_=t(1107);const x=["success","info","warning","error"],S=(0,C.U)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:v.lE,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>x.includes(e)},...(0,u.l)(),...(0,c.f)(),...(0,m.x)(),...(0,p.c)(),...(0,y.y)(),...(0,b.F)(),...(0,g.I)(),...(0,w.Q)(),...(0,k.x$)(),...(0,V.bk)({variant:"flat"})},"VAlert"),$=(0,_.ev)()({name:"VAlert",props:S(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{emit:t,slots:o}=l;const u=(0,h.z)(e,"modelValue"),v=(0,a.Fl)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),w=(0,a.Fl)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:C}=(0,k.ER)(e),{colorClasses:_,colorStyles:x,variantClasses:S}=(0,V.c1)(w),{densityClasses:$}=(0,c.t)(e),{dimensionStyles:F}=(0,m.$)(e),{elevationClasses:U}=(0,p.Y)(e),{locationStyles:z}=(0,y.T)(e),{positionClasses:B}=(0,b.K)(e),{roundedClasses:R}=(0,g.b)(e),{textColorClasses:Z,textColorStyles:q}=(0,d.rY)((0,W.Vh)(e,"borderColor")),{t:I}=(0,f.bU)(),D=(0,a.Fl)((()=>({"aria-label":I(e.closeLabel),onClick(e){u.value=!1,t("click:close",e)}})));return()=>{const l=!(!o.prepend&&!v.value),t=!(!o.title&&!e.title),d=!(!o.close&&!e.closable);return u.value&&(0,a.Wm)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},C.value,_.value,$.value,U.value,B.value,R.value,S.value,e.class],style:[x.value,F.value,z.value,e.style],role:"alert"},{default:()=>[(0,V.Ux)(!1,"v-alert"),e.border&&(0,a.Wm)("div",{key:"border",class:["v-alert__border",Z.value],style:q.value},null),l&&(0,a.Wm)("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?(0,a.Wm)(n.z,{key:"prepend-defaults",disabled:!v.value,defaults:{VIcon:{density:e.density,icon:v.value,size:e.prominent?44:28}}},o.prepend):(0,a.Wm)(i.t,{key:"prepend-icon",density:e.density,icon:v.value,size:e.prominent?44:28},null)]),(0,a.Wm)("div",{class:"v-alert__content"},[t&&(0,a.Wm)(s,{key:"title"},{default:()=>[o.title?.()??e.title]}),o.text?.()??e.text,o.default?.()]),o.append&&(0,a.Wm)("div",{key:"append",class:"v-alert__append"},[o.append()]),d&&(0,a.Wm)("div",{key:"close",class:"v-alert__close"},[o.close?(0,a.Wm)(n.z,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[o.close?.({props:D.value})]}):(0,a.Wm)(r.T,(0,a.dG)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},D.value),null)])]})}}})},6422:function(e,l,t){t.d(l,{O:function(){return m}});var a=t(3396),o=t(9166),s=t(4357),r=t(3185),n=t(4870),i=t(3766),d=t(1107),u=t(9888);const c=(0,i.U)({...(0,o.l)(),...(0,s.vC)()},"VForm"),m=(0,d.ev)()({name:"VForm",props:c(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:o}=l;const i=(0,s.Np)(e),d=(0,n.iH)();function c(e){e.preventDefault(),i.reset()}function m(e){const l=e,t=i.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),o("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;l&&d.value?.submit()})),l.preventDefault()}return(0,u.L)((()=>(0,a.Wm)("form",{ref:d,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:m},[t.default?.(i)]))),(0,r.F)(i,d)}})}}]);
//# sourceMappingURL=597.9a432087.js.map