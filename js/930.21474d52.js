"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[930],{67930:function(e,l,t){t.r(l),t.d(l,{default:function(){return y}});var a=t(56768),o=t(80266),s=t(42807),n=t(4189),r=t(30697),i=t(93745),u=t(1560),d=t(43948);function c(e,l,t,c,p,v){return(0,a.uX)(),(0,a.Wv)(u.n,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":l[2]||(l[2]=l=>e.valid=l)},{default:(0,a.k6)((()=>[(0,a.bF)(n.J,{title:"ShiftAdmin",subtitle:"Sign in",loading:e.loading},{default:(0,a.k6)((()=>[e.error?((0,a.uX)(),(0,a.Wv)(o.l,{key:0,type:"error",text:e.error},null,8,["text"])):(0,a.Q3)("",!0),(0,a.bF)(u.n,null,{default:(0,a.k6)((()=>[(0,a.bF)(r.O,null,{default:(0,a.k6)((()=>[(0,a.bF)(d.W,{modelValue:e.email,"onUpdate:modelValue":l[0]||(l[0]=l=>e.email=l),rules:e.usernameRules,label:"Email",required:""},null,8,["modelValue","rules"]),(0,a.bF)(d.W,{type:"password",modelValue:e.password,"onUpdate:modelValue":l[1]||(l[1]=l=>e.password=l),rules:e.passwordRules,label:"Password",required:""},null,8,["modelValue","rules"])])),_:1}),(0,a.bF)(i.S,null,{default:(0,a.k6)((()=>[(0,a.bF)(s.D,{color:"success",onClick:v.login,variant:"flat",text:"Login",type:"submit"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["loading"])])),_:1},8,["modelValue"])}t(44114);var p=t(74300),v=t(27274),m={data:()=>({valid:!0,email:"",password:"",usernameRules:[e=>!!e||"Username is required"],passwordRules:[e=>!!e||"Password is required"],loading:!1,error:""}),methods:{fetchData:async function(){const e=await p.A.post("?cmd=login");1===e.data.code&&e.data.admin>0&&this.$router.push(v.A.base())},login:async function(){this.error="";var e={cmd:"login",email:this.email,password:this.password};this.loading=!0;const l=await p.A.post("?cmd=login",e);this.loading=!1,l.data.error?this.error=l.data.error:this.$router.push(v.A.base())}},mounted:function(){this.fetchData()}},b=t(71241);const f=(0,b.A)(m,[["render",c]]);var y=f},80266:function(e,l,t){t.d(l,{l:function(){return W}});var a=t(56768),o=t(72586);const s=(0,o.G)("v-alert-title");var n=t(42807),r=t(37852),i=t(79669),u=t(32886),d=t(19262),c=t(62191),p=t(62542),v=t(17018),m=t(24581),b=t(95296),f=t(79788),y=t(58184),h=t(82067),k=t(73240),g=t(54663),F=t(47664),V=t(72428),C=t(90144),S=t(14587),w=t(51247);const _=["success","info","warning","error"],x=(0,S.j)({border:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:m.TX,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>_.includes(e)},...(0,d.u)(),...(0,c.r)(),...(0,p.X)(),...(0,v.s)(),...(0,f.M)(),...(0,y.S)(),...(0,k.S)(),...(0,g.X)(),...(0,F.yx)(),...(0,V.gI)({variant:"flat"})},"VAlert"),W=(0,w.RW)()({name:"VAlert",props:x(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{emit:t,slots:o}=l;const d=(0,h.q)(e,"modelValue"),m=(0,a.EW)((()=>{if(!1!==e.icon)return e.type?e.icon??`$${e.type}`:e.icon})),g=(0,a.EW)((()=>({color:e.color??e.type,variant:e.variant}))),{themeClasses:S}=(0,F.NX)(e),{colorClasses:w,colorStyles:_,variantClasses:x}=(0,V.rn)(g),{densityClasses:W}=(0,c.Q)(e),{dimensionStyles:A}=(0,p.S)(e),{elevationClasses:R}=(0,v.j)(e),{locationStyles:D}=(0,f.z)(e),{positionClasses:$}=(0,y.J)(e),{roundedClasses:B}=(0,k.v)(e),{textColorClasses:X,textColorStyles:q}=(0,u.aH)((0,C.lW)(e,"borderColor")),{t:z}=(0,b.Ym)(),E=(0,a.EW)((()=>({"aria-label":z(e.closeLabel),onClick(e){d.value=!1,t("click:close",e)}})));return()=>{const l=!(!o.prepend&&!m.value),t=!(!o.title&&!e.title),u=!(!o.close&&!e.closable);return d.value&&(0,a.bF)(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${!0===e.border?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},S.value,w.value,W.value,R.value,$.value,B.value,x.value,e.class],style:[_.value,A.value,D.value,e.style],role:"alert"},{default:()=>[(0,V.wN)(!1,"v-alert"),e.border&&(0,a.bF)("div",{key:"border",class:["v-alert__border",X.value],style:q.value},null),l&&(0,a.bF)("div",{key:"prepend",class:"v-alert__prepend"},[o.prepend?(0,a.bF)(r.K,{key:"prepend-defaults",disabled:!m.value,defaults:{VIcon:{density:e.density,icon:m.value,size:e.prominent?44:28}}},o.prepend):(0,a.bF)(i.w,{key:"prepend-icon",density:e.density,icon:m.value,size:e.prominent?44:28},null)]),(0,a.bF)("div",{class:"v-alert__content"},[t&&(0,a.bF)(s,{key:"title"},{default:()=>[o.title?.()??e.title]}),o.text?.()??e.text,o.default?.()]),o.append&&(0,a.bF)("div",{key:"append",class:"v-alert__append"},[o.append()]),u&&(0,a.bF)("div",{key:"close",class:"v-alert__close"},[o.close?(0,a.bF)(r.K,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>[o.close?.({props:E.value})]}):(0,a.bF)(n.D,(0,a.v6)({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},E.value),null)])]})}}})},1560:function(e,l,t){t.d(l,{n:function(){return p}});var a=t(56768),o=t(19262),s=t(93651),n=t(61950),r=t(90144),i=t(14587),u=t(51247),d=t(74600);const c=(0,i.j)({...(0,o.u)(),...(0,s.pE)()},"VForm"),p=(0,u.RW)()({name:"VForm",props:c(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:o}=l;const i=(0,s.DG)(e),u=(0,r.KR)();function c(e){e.preventDefault(),i.reset()}function p(e){const l=e,t=i.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),o("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;l&&u.value?.submit()})),l.preventDefault()}return(0,d.C)((()=>(0,a.bF)("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:p},[t.default?.(i)]))),(0,n.O)(i,u)}})}}]);
//# sourceMappingURL=930.21474d52.js.map