"use strict";(self["webpackChunkshiftadmin"]=self["webpackChunkshiftadmin"]||[]).push([[3],{8559:function(e,t,a){a.d(t,{Z:function(){return I}});var i=a(3396),o=a(7139),l=a(870),s=a(9234),r=(a(560),a(8099),a(9166)),n=a(8157),d=a(1138),c=a(3766),u=a(1107);const m=(()=>n.AV.reduce(((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e)),{}))(),p=(()=>n.AV.reduce(((e,t)=>{const a="offset"+(0,o.kC)(t);return e[a]={type:[String,Number],default:null},e}),{}))(),h=(()=>n.AV.reduce(((e,t)=>{const a="order"+(0,o.kC)(t);return e[a]={type:[String,Number],default:null},e}),{}))(),g={col:Object.keys(m),offset:Object.keys(p),order:Object.keys(h)};function f(e,t,a){let i=e;if(null!=a&&!1!==a){if(t){const a=t.replace(e,"");i+=`-${a}`}return"col"===e&&(i="v-"+i),"col"!==e||""!==a&&!0!==a?(i+=`-${a}`,i.toLowerCase()):i.toLowerCase()}}const v=["auto","start","end","center","baseline","stretch"],y=(0,c.U)({cols:{type:[Boolean,String,Number],default:!1},...m,offset:{type:[String,Number],default:null},...p,order:{type:[String,Number],default:null},...h,alignSelf:{type:String,default:null,validator:e=>v.includes(e)},...(0,r.l)(),...(0,d.Q)()},"VCol"),b=(0,u.ev)()({name:"VCol",props:y(),setup(e,t){let{slots:a}=t;const o=(0,i.Fl)((()=>{const t=[];let a;for(a in g)g[a].forEach((i=>{const o=e[i],l=f(a,i,o);l&&t.push(l)}));const i=t.some((e=>e.startsWith("v-col-")));return t.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),t}));return()=>(0,i.h)(e.tag,{class:[o.value,e.class],style:e.style},a.default?.())}});var S=a(6052),w=a(9457),k=a(2127),P=a(4193);const V={class:"d-flex w-100 align-center"};function x(e,t,a,r,n,d){return(0,i.wg)(),(0,i.iD)("span",V,[(0,i.Wm)(l.T,{variant:"text",title:"Add",icon:"mdi-plus",to:d.base+"section/"+e.internalSection+"/add"+(a.parentsection?"?parentsection="+a.parentsection+"&parentid="+a.parentid:"")},null,8,["to"]),(0,i.Wm)(l.T,{variant:"text",title:"Fields",icon:"mdi-view-column",color:"grey-lighten-1",onClick:d.changeFields},null,8,["onClick"]),a.selected.length?((0,i.wg)(),(0,i.j4)(l.T,{key:0,variant:"text",title:"Delete",icon:"mdi-delete",color:"grey-lighten-1",onClick:t[0]||(t[0]=e=>d.doAction("delete"))})):(0,i.kq)("",!0),(0,i.Wm)(l.T,{variant:"text",title:"Import",icon:"mdi-import",color:"grey-lighten-1",onClick:d.openImport},null,8,["onClick"]),(0,i.Wm)(l.T,{variant:"text",title:"Export",icon:"mdi-export",color:"grey-lighten-1",onClick:d.exportItems},null,8,["onClick"]),a.sortable?((0,i.wg)(),(0,i.j4)(l.T,{key:1,variant:"text",title:"Sort",icon:"mdi-sort",color:"grey-lighten-1",onClick:t[1]||(t[1]=e=>d.doAction("openSortable"))})):(0,i.kq)("",!0),d.buttons.length?((0,i.wg)(),(0,i.j4)(P.T,{key:2},{activator:(0,i.w5)((({props:e})=>[(0,i.Wm)(l.T,(0,i.dG)({variant:"text"},e,{icon:"mdi-dots-vertical"}),null,16)])),default:(0,i.w5)((()=>[(0,i.Wm)(S.i,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(d.buttons,((e,t)=>((0,i.wg)(),(0,i.j4)(w.l,{key:t,value:t,onClick:t=>d.customButton(e)},{default:(0,i.w5)((()=>[(0,i.Wm)(k.V,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["value","onClick"])))),128))])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(s.C),(0,i.Wm)(b,{class:"text-grey-lighten-1 text-right"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)((a.data.page-1)*a.data.itemsPerPage+1)+"-"+(0,o.zw)(Math.min(a.data.page*a.data.itemsPerPage,a.data.totalItems))+" of "+(0,o.zw)(a.data.totalItems),1)])),_:1}),(0,i.Wm)(l.T,{variant:"text",icon:"mdi-chevron-left",disabled:1===a.data.page,onClick:d.prevPage},null,8,["disabled","onClick"]),(0,i.Wm)(l.T,{variant:"text",icon:"mdi-chevron-right",disabled:a.data.page*a.data.itemsPerPage>=a.data.totalItems,onClick:d.nextPage},null,8,["disabled","onClick"])])}var C={props:{vars:null,section:null,hidebuttons:Boolean,parentsection:null,parentid:null,searchparams:null,selected:null,data:null,headers:null,sortable:Boolean},data:function(){return{dialog:!1,selectedHeaders:[],internalSection:"",loading:!1,filter:""}},methods:{formatString:function(e){return e=e.replace(/_/g," "),e.charAt(0).toUpperCase()+e.slice(1)},doAction:async function(e){this.$emit("action",e)},exportItems:function(){this.$emit("action","export")},changeFields:function(){this.$emit("changeFields")},customButton:function(e){this.$emit("action",e)},openImport:function(){this.$emit("action","import")},prevPage:function(){this.$emit("action","prevPage")},nextPage:function(){this.$emit("action","nextPage")}},watch:{section:function(e){this.internalSection=e},filter:function(e){this.$emit("action","filter",e)}},computed:{buttons:function(){let e=[];return this.vars?.buttons?.forEach(((t,a)=>{"list"===t.page&&t.section===this.internalSection&&(t.id=a,e.push(t))})),e},base(){let e="/";return this.$route.params.base&&(e+=this.$route.params.base+"/"),e}},created(){this.internalSection=this.section?this.section:this.$route.params.section}},W=a(89);const _=(0,W.Z)(C,[["render",x]]);var I=_},2003:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var i=a(3396),o=a(7139),l=a(7771),s=a(870),r=a(1489),n=a(1888),d=a(1334),c=a(6658),u=a(2934),m=a(2804),p=a(461),h=a(1231),g=a(7471),f=a(6969),v=a(8829),y=a(3890),b=a(7609),S=a(9207),w=a(2651),k=a(2864),P=a(6107),V=a(4870),x=a(3766),C=a(1107),W=a(9888);const _=(0,x.U)({itemsLength:{type:[Number,String],required:!0},...(0,S.Gj)(),...(0,c.Sz)(),...(0,u.p)()},"VDataTableServer"),I=(0,C.ev)()({name:"VDataTableServer",props:_(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,t){let{attrs:a,slots:o}=t;const{groupBy:l}=(0,f.my)(e),{sortBy:s,multiSort:r,mustSort:n}=(0,k.lx)(e),{page:d,itemsPerPage:c}=(0,S.FV)(e),x=(0,i.Fl)((()=>parseInt(e.itemsLength,10))),{columns:C,headers:_}=(0,v.IT)(e,{groupBy:l,showSelect:(0,V.Vh)(e,"showSelect"),showExpand:(0,V.Vh)(e,"showExpand")}),{items:I}=(0,y.hh)(e,C),{toggleSort:O}=(0,k.NV)({sortBy:s,multiSort:r,mustSort:n,page:d}),{opened:D,isGroupOpen:H,toggleGroup:B,extractRows:$}=(0,f.P_)({groupBy:l,sortBy:s}),{pageCount:T,setItemsPerPage:U}=(0,S.ku)({page:d,itemsPerPage:c,itemsLength:x}),{flatItems:j}=(0,f.T5)(I,l,D),{isSelected:F,select:L,selectAll:A,toggleSelect:E,someSelected:Z,allSelected:N}=(0,w.mH)(e,{allItems:I,currentPage:I}),{isExpanded:G,toggleExpand:q}=(0,g.BM)(e),J=(0,i.Fl)((()=>$(I.value)));(0,b.D)({page:d,itemsPerPage:c,sortBy:s,groupBy:l,search:(0,V.Vh)(e,"search")}),(0,i.JJ)("v-data-table",{toggleSort:O,sortBy:s}),(0,P.AF)({VDataTableRows:{hideNoData:(0,V.Vh)(e,"hideNoData"),noDataText:(0,V.Vh)(e,"noDataText"),loading:(0,V.Vh)(e,"loading"),loadingText:(0,V.Vh)(e,"loadingText")}});const z=(0,i.Fl)((()=>({page:d.value,itemsPerPage:c.value,sortBy:s.value,pageCount:T.value,toggleSort:O,setItemsPerPage:U,someSelected:Z.value,allSelected:N.value,isSelected:F,select:L,selectAll:A,toggleSelect:E,isExpanded:G,toggleExpand:q,isGroupOpen:H,toggleGroup:B,items:J.value.map((e=>e.raw)),internalItems:J.value,groupedItems:j.value,columns:C.value,headers:_.value})));(0,W.L)((()=>{const t=u.i.filterProps(e),l=m.I.filterProps(e),s=p.f.filterProps(e),r=h.Y.filterProps(e);return(0,i.Wm)(h.Y,(0,i.dG)({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},r),{top:()=>o.top?.(z.value),default:()=>o.default?o.default(z.value):(0,i.Wm)(i.HY,null,[o.colgroup?.(z.value),(0,i.Wm)("thead",{class:"v-data-table__thead",role:"rowgroup"},[(0,i.Wm)(m.I,(0,i.dG)(l,{sticky:e.fixedHeader}),o)]),o.thead?.(z.value),(0,i.Wm)("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[o["body.prepend"]?.(z.value),o.body?o.body(z.value):(0,i.Wm)(p.f,(0,i.dG)(a,s,{items:j.value}),o),o["body.append"]?.(z.value)]),o.tbody?.(z.value),o.tfoot?.(z.value)]),bottom:()=>o.bottom?o.bottom(z.value):(0,i.Wm)(u.i,t,{prepend:o["footer.prepend"]})})}))}});var O=a(3601),D=a(3121),H=a(9166),B=a(7396);const $=(0,x.U)({...(0,H.l)(),...(0,B.GB)()},"VLayout"),T=(0,C.ev)()({name:"VLayout",props:$(),setup(e,t){let{slots:a}=t;const{layoutClasses:o,layoutStyles:l,getLayoutItem:s,items:r,layoutRef:n}=(0,B.te)(e);return(0,W.L)((()=>(0,i.Wm)("div",{ref:n,class:[o.value,e.class],style:[l.value,e.style]},[a.default?.()]))),{getLayoutItem:s,items:r}}});var U=a(240),j=a(4286);const F={key:1},L=(0,i._)("h4",null,"Match up the fields",-1);function A(e,t,a,u,m,p){const h=(0,i.up)("ListButtons"),g=(0,i.up)("draggable");return(0,i.wg)(),(0,i.j4)(T,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,{modelValue:e.selected,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selected=t),headers:p.activeHeaders,items:e.data.data,"item-value":"id","show-select":"","onClick:row":p.rowClick,loading:e.loading,"onUpdate:options":p.loadItems,"items-length":e.totalItems,"items-per-page":e.itemsPerPage,"onUpdate:itemsPerPage":t[2]||(t[2]=t=>e.itemsPerPage=t),search:e.search,"fixed-header":"","fixed-footer":"",class:"data-table-server",page:e.page},{top:(0,i.w5)((()=>[(0,i.Wm)(j.C,{color:"secondary",class:"w-100"},{default:(0,i.w5)((()=>[a.hidebuttons?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(h,{key:0,selected:e.selected,section:e.internalSection,onChangeFields:t[0]||(t[0]=t=>e.dialog=!0),onAction:p.actionHandler,vars:a.vars,sortable:p.isSortable,data:e.buttonData},null,8,["selected","section","onAction","vars","sortable","data"]))])),_:1})])),bottom:(0,i.w5)((()=>[])),_:1},8,["modelValue","headers","items","onClick:row","loading","onUpdate:options","items-length","items-per-page","search","page"]),(0,i.Wm)(O.B,{modelValue:e.importDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.importDialog=t),"max-width":"600",scrollable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r._,{title:"Import"},{default:(0,i.w5)((()=>[(0,i.Wm)(n.Z,null,{default:(0,i.w5)((()=>[e.error?((0,i.wg)(),(0,i.j4)(l.w,{key:0,text:e.error,type:"error"},null,8,["text"])):(0,i.kq)("",!0),(0,i.Wm)(D.Z,{modelValue:e.file,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.file=t),p.readFile],label:"CSV file"},null,8,["modelValue","onUpdate:modelValue"]),e.importHeaders.length?((0,i.wg)(),(0,i.iD)("div",F,[L,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.headers,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{key:a},[(0,i.Wm)(U.rL,{items:e.importHeaders,label:t.title,modelValue:e.importCols[t.key],"onUpdate:modelValue":a=>e.importCols[t.key]=a},null,8,["items","label","modelValue","onUpdate:modelValue"])])))),128))])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(d.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s.T,{onClick:p.doImport,variant:"flat",color:"primary",disabled:!e.importHeaders.length},{default:(0,i.w5)((()=>[(0,i.Uk)("Import")])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(O.B,{modelValue:e.dialog,"onUpdate:modelValue":t[6]||(t[6]=t=>e.dialog=t),"max-width":"600",scrollable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r._,{title:"Fields"},{default:(0,i.w5)((()=>[(0,i.Wm)(c.y_,{modelValue:e.selectedHeaders,"onUpdate:modelValue":t[5]||(t[5]=t=>e.selectedHeaders=t),headers:[{title:"Field",key:"title"}],items:e.headers,"item-value":"key","items-per-page":"-1","show-select":""},{bottom:(0,i.w5)((()=>[])),_:1},8,["modelValue","items"])])),_:1})])),_:1},8,["modelValue"]),(0,i.Wm)(O.B,{modelValue:e.sortableDialog,"onUpdate:modelValue":t[10]||(t[10]=t=>e.sortableDialog=t),"max-width":"600",scrollable:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r._,{title:"Sort Order",loading:e.sortOrderLoading},{default:(0,i.w5)((()=>[(0,i.Wm)(n.Z,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{modelValue:e.sortOrder,"onUpdate:modelValue":t[7]||(t[7]=t=>e.sortOrder=t),group:"items",onStart:t[8]||(t[8]=t=>e.drag=!0),onEnd:t[9]||(t[9]=t=>e.drag=!1),"item-key":"id"},{item:(0,i.w5)((({element:e})=>[(0,i.Wm)(j.C,{color:"primary",class:"ma-5 pa-5"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(e.title),1)])),_:2},1024)])),_:1},8,["modelValue"])])),_:1}),(0,i.Wm)(d.h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s.T,{variant:"flat",color:"primary",onClick:p.saveSortOrder},{default:(0,i.w5)((()=>[(0,i.Uk)("Save")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["loading"])])),_:1},8,["modelValue"])])),_:1})}a(560);var E=a(1006),Z=a(2564),N=a(5410),G=a.n(N),q=a(8559),J=a(6983),z=a.n(J),R={components:{ListButtons:q.Z,draggable:z()},props:{vars:null,section:null,hidebuttons:Boolean,parentsection:null,parentid:null,searchparams:null},data:function(){return{dialog:!1,selectedHeaders:[],selected:[],data:{},internalSection:"",loading:!1,importDialog:!1,importHeaders:[],importCols:{},sortableDialog:!1,totalItems:0,itemsPerPage:20,page:1,search:"",headers:[],drag:!1,sortOrder:[],sortOrderLoading:!1,file:[],error:"",filter:"",buttonData:{}}},methods:{formatString:function(e){return Z.Z.formatString(e)},loadItems:async function({page:e,itemsPerPage:t,sortBy:a}){let i=this.searchparams;this.filter&&(i["s"]=this.filter);var o={cmd:"get",section:this.internalSection,fields:i,page:e,itemsPerPage:t,sortBy:a};this.parentsection&&(o.parentsection=this.parentsection),this.parentid&&(o.parentid=this.parentid);const l=G().stringify(o);this.loading=!0;let s={};try{s=await E.Z.get("?"+l.toString(),o)}catch(d){console.log(d)}if(this.loading=!1,!s.data?.fields)return!1;s.data.data||(s.data.data=[],s.data.total=0),s.data.data.forEach((e=>{for(const[,t]of Object.entries(s.data.fields))e[t.column+"_label"]?e[t.column]=e[t.column+"_label"]:e[t.column]=Z.Z.formatData(e[t.column],t.type)})),this.data=s.data,this.totalItems=this.data.total,this.buttonData={page:e,itemsPerPage:t,totalItems:this.totalItems},this.headers=[];let r=Object.values(s.data.fields);if(r.length&&!r.find((e=>"id"===e.column))){let e=Z.Z.base();return this.$router.push(e+"section/"+this.internalSection+"/1/"),!1}for(const[,c]of Object.entries(this.data.fields))this.headers.push({title:this.formatString(c.column),key:c.column});let n=r.map((e=>e.column));this.selectedHeaders.length||(this.selectedHeaders=n),this.$emit("changeHeaders",r),this.sortOrder=[],this.isSortable&&(this.data.data.forEach((e=>{let t=Object.keys(e)[0];this.sortOrder.push({title:t+": "+e[t],id:e.id,position:e.position})})),this.sortOrder.sort(((e,t)=>e.position-t.position))),this.$emit("loaded")},rowClick:function(e,t){let a="/";this.$route.params.base&&(a+=this.$route.params.base+"/");let i=a+"section/"+this.internalSection+"/"+t.item.id+"/";this.parentsection&&(i+="?parentsection="+this.parentsection+"&parentid="+this.parentid),this.$router.push(i)},doAction:async function(e){let t={cmd:e,section:this.section,ids:this.selected};this.loading=!0,await E.Z.post("?cmd="+e+"&section="+this.internalSection,t),this.selected=[],this.reload()},actionHandler:async function(e){let t={};if("export"===e)return void this.exportItems();if("import"===e)return void this.openImport();if("openSortable"===e)return void(this.sortableDialog=!0);if("filter"===e)return this.filter=arguments[1],void this.reload();if("prevPage"===e){if(1===this.page)return;return void this.page--}if("nextPage"===e){if(this.page*this.itemsPerPage>=this.totalItems)return;return void this.page++}if("string"===typeof e)return t={cmd:e,section:this.internalSection,ids:this.selected},this.loading=!0,await E.Z.post("?cmd="+e+"&section="+this.internalSection,t),void this.reload();t={cmd:"button",button:e.id,section:this.internalSection,ids:this.selected},this.loading=!0;const a=await E.Z.post("?cmd=button&section="+this.internalSection,t);this.loading=!1,a.data.error&&alert(a.data.error),a.data.result?.redirect?e.target?window.open(a.data.result.redirect):location.href=a.data.result.redirect:this.reload()},exportItems:function(){let e={cmd:"export",section:this.internalSection,fields:this.searchparams,columns:this.activeHeaders.map((e=>e.key))};this.parentsection&&(e.parentsection=this.parentsection),this.parentid&&(e.parentid=this.parentid);const t=G().stringify(e);window.open(E.Z.getApiRoot()+"?"+t)},openImport:function(){this.importDialog=!0},doImport:async function(){const e=new FormData;for(const[a,i]of Object.entries(this.importCols))e.append("fields["+a+"]",i);e.append("file",this.file[0]),this.error="",this.loading=!0;const t=await E.Z.post("?cmd=import&section="+this.internalSection,e,{headers:{"Content-Type":"multipart/form-data"}});this.loading=!1,t.data.error?this.error=t.data?.error:(this.importDialog=!1,this.reload())},saveSortOrder:async function(){let e={cmd:"reorder",section:this.section,items:this.sortOrder};this.sortOrderLoading=!0,await E.Z.post("?cmd=reorder&section="+this.internalSection,e),this.sortOrderLoading=!1,this.sortableDialog=!1,this.reload()},reload:function(){this.search=String(Date.now())},readFile:function(){const e=new FileReader;e.onload=e=>{const t=e.target.result,a=t.split("\n");let i=[],o=a[0].split(",");for(let s=0;s<o.length;s++){const e=o[s].trim();e.startsWith('"')&&e.endsWith('"')?i.push(e.slice(1,-1)):i.push(e)}let l=[];o=a[1].split(",");for(let s=0;s<o.length;s++){const e=o[s].trim();e.startsWith('"')&&e.endsWith('"')?l.push(e.slice(1,-1)):l.push(e)}this.importHeaders=[],i.forEach(((e,t)=>{this.importHeaders.push({value:t,raw:e,title:e+" - "+l[t]})})),this.importCols={},this.headers.forEach((e=>{let t=this.importHeaders.find((t=>t.raw===e.key));this.importCols[e.key]=t?t.value:""}))},e.readAsText(this.file[0])}},watch:{$route(e){this.internalSection=e.params.section,this.reload()},section:function(e){this.internalSection=e,this.reload()},selectedHeaders:function(e){localStorage["fields_"+this.internalSection]=JSON.stringify(Object.values(e))},searchparams:function(){this.reload()},headers:function(e){let t=localStorage["fields_"+this.internalSection],a=t?JSON.parse(t):e.map((e=>e.key)),i=e.map((e=>e.key));a=a.filter((e=>i.includes(e))),JSON.stringify(a)!==JSON.stringify(this.selectedHeaders)&&(this.selectedHeaders=a);let o=[];this.selectedHeaders.forEach((e=>{for(const[,t]of Object.entries(this.data.fields))e===t.column&&o.push(t)})),this.$emit("changeFields",o)}},computed:{activeHeaders:function(){let e=[];return this.selectedHeaders.forEach((t=>{e.push({title:this.formatString(t),value:t,sortable:!0})})),e},isSortable:function(){let e=!1;return this.data.fields&&Object.values(this.data.fields).forEach((t=>{"position"===t.type&&(e=!0)})),e}},created(){this.internalSection=this.section?this.section:this.$route.params.section,localStorage["fields_"+this.internalSection]&&(this.selectedHeaders=JSON.parse(localStorage["fields_"+this.internalSection]))},mounted(){this.hidebuttons||(document.title="ADMIN | "+this.internalSection)}},Y=a(89);const M=(0,Y.Z)(R,[["render",A]]);var K=M}}]);
//# sourceMappingURL=3.3ecd3e6a.js.map